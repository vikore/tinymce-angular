/*!
 * Tiny Spell Checker Pro plugin
 *
 * Copyright 2010-2021 Tiny Technologies, Inc. All rights reserved.
 *
 * Version: 2.5.1-11
 */
!function(){"use strict";function t(n){return parseInt(n,10)}function i(n,e){var t=n-e;return 0==t?0:0<t?1:-1}function r(n,e,t){return{major:n,minor:e,patch:t}}function ln(n){var e=/([0-9]+)\.([0-9]+)\.([0-9]+)(?:(\-.+)?)/.exec(n);return e?r(t(e[1]),t(e[2]),t(e[3])):r(0,0,0)}function dn(n,e){var t=i(n.major,e.major);if(0!==t)return t;var r=i(n.minor,e.minor);if(0!==r)return r;var o=i(n.patch,e.patch);return 0!==o?o:0}function gn(n){return ln([n.majorVersion,n.minorVersion].join(".").split(".").slice(0,3).join("."))}function mn(n,e){return!!n&&-1===dn(gn(n),ln(e))}function n(r){return function(n){return t=typeof(e=n),(null===e?"null":"object"==t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t)===r;var e,t}}function e(e){return function(n){return typeof n===e}}function o(e){return function(n){return e===n}}function pn(n){return!(null==n)}function hn(){}function a(t,r){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return t(r.apply(null,n))}}function vn(n){return function(){return n}}function y(n){return n}function u(n,e){return n===e}var yn=n("string"),s=n("object"),wn=n("array"),p=o(null),c=e("boolean"),f=o(void 0),h=e("function"),l=e("number");function d(r){for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=o.concat(n);return r.apply(null,t)}}function bn(n){n()}function g(){return v}var xn=vn(!1),m=vn(!0),v={fold:function(n,e){return n()},isSome:xn,isNone:m,getOr:y,getOrThunk:w,getOrDie:function(n){throw new Error(n||"error: getOrDie called on none.")},getOrNull:vn(null),getOrUndefined:vn(void 0),or:y,orThunk:w,map:g,each:hn,bind:g,exists:xn,forall:m,filter:function(){return v},toArray:function(){return[]},toString:vn("none()")};function w(n){return n()}function b(n,e){return Zn.call(n,e)}function x(n,e){return-1<b(n,e)}function kn(n,e){for(var t=0,r=n.length;t<r;t++)if(e(n[t],t))return!0;return!1}function Tn(n,e){for(var t=n.length,r=new Array(t),o=0;o<t;o++){var i=n[o];r[o]=e(i,o)}return r}function Sn(n,e){for(var t=0,r=n.length;t<r;t++)e(n[t],t)}function On(n,e){for(var t=[],r=0,o=n.length;r<o;r++){var i=n[r];e(i,r)&&t.push(i)}return t}function k(n,t,r){return Sn(n,function(n,e){r=t(r,n,e)}),r}function T(n,e){return function(n,e,t){for(var r=0,o=n.length;r<o;r++){var i=n[r];if(e(i,r))return Yn.some(i);if(t(i,r))break}return Yn.none()}(n,e,xn)}function S(n,e){for(var t=0,r=n.length;t<r;t++)if(e(n[t],t))return Yn.some(t);return Yn.none()}function O(n,e){return function(n){for(var e=[],t=0,r=n.length;t<r;++t){if(!wn(n[t]))throw new Error("Arr.flatten item "+t+" was not an array, input: "+n);Qn.apply(e,n[t])}return e}(Tn(n,e))}function E(n,e){for(var t=0,r=n.length;t<r;++t)if(!0!==e(n[t],t))return;return 1}function C(n){var e=Gn.call(n,0);return e.reverse(),e}function _(n){return[n]}function I(n,e){return 0<=e&&e<n.length?Yn.some(n[e]):Yn.none()}function A(n){return I(n,0)}function D(n,e){for(var t=0;t<n.length;t++){var r=e(n[t],t);if(r.isSome())return r}return Yn.none()}function En(n,e){for(var t=ee(n),r=0,o=t.length;r<o;r++){var i=t[r];e(n[i],i)}}function Cn(n,t){return re(n,function(n,e){return{k:e,v:t(n,e)}})}function _n(n,t){var r=[];return En(n,function(n,e){r.push(t(n,e))}),r}function N(n){return _n(n,y)}function In(n,e){return oe(n,e)?Yn.from(n[e]):Yn.none()}function L(n,r){return function(n){for(var e=null!=r?r:ie,t=0;t<n.length&&null!=e;++t)e=e[n[t]];return e}(n.split("."))}function R(n){return n.dom.nodeName.toLowerCase()}function P(n){return n.dom.nodeType}function j(e){return function(n){return P(n)===e}}function F(n){return 8===P(n)||"#comment"===R(n)}function M(n){return r=L("ownerDocument.defaultView",e=n.dom),s(e)&&(t=r,function(n){var e=ue(n,t);if(null==e)throw new Error(n+" not available on this browser");return e}("HTMLElement").prototype.isPrototypeOf(e)||/^\[object HTML\w*Element\]$/.test(ce(e).toString()));var t,e,r}function B(e){return function(n){return ae(n)&&R(n)===e}}function z(n,e,t){if(!(yn(t)||c(t)||l(t)))throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",t,":: Element ",n),new Error("Attribute value was not simple");n.setAttribute(e,t+"")}function W(n,e,t){z(n.dom,e,t)}function V(n,e){var t=n.dom.getAttribute(e);return null===t?void 0:t}function An(n,e){return Yn.from(V(n,e))}function q(n,e){n.dom.removeAttribute(e)}function U(t){var r,o=!1;return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return o||(o=!0,r=t.apply(null,n)),r}}function H(n,e){var t=String(e).toLowerCase();return T(n,function(n){return n.search(t)})}function J(n,e,t){return""===e||n.length>=e.length&&n.substr(t,t+e.length)===e}function K(n,e){return-1!==n.indexOf(e)}function $(e){return function(n){return K(n,e)}}function X(n){return window.matchMedia(n).matches}function Y(n,e){var t=n.dom;if(1!==t.nodeType)return!1;var r=t;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")}function G(n,e){return n.dom===e.dom}function Dn(n,e,t){return void 0===t&&(t=u),n.exists(function(n){return t(n,e)})}function Z(n){for(var e=[],t=function(n){e.push(n)},r=0;r<n.length;r++)n[r].each(t);return e}function Q(n){return void 0!==n.style&&h(n.style.getPropertyValue)}function nn(n){return ne.fromDom(n.dom.ownerDocument)}function en(n){return se(n)?n:nn(n)}function tn(n){return Yn.from(n.dom.parentNode).map(ne.fromDom)}function rn(n,e){for(var t=h(e)?e:xn,r=n.dom,o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,u=ne.fromDom(i);if(o.push(u),!0===t(u))break;r=i}return o}function on(n){return Yn.from(n.dom.previousSibling).map(ne.fromDom)}function un(n){return Yn.from(n.dom.nextSibling).map(ne.fromDom)}function cn(n){return Tn(n.dom.childNodes,ne.fromDom)}function an(n,e){var t=n.dom.childNodes;return Yn.from(t[e]).map(ne.fromDom)}function fn(n){return n.dom.childNodes.length}function sn(n,e){return{element:n,offset:e}}function Nn(n){return ne.fromDom(n.dom.host)}function Ln(n,e,t){!function(n,e,t){if(!yn(t))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",t,":: Element ",n),new Error("CSS value must be a string: "+t);Q(n)&&n.style.setProperty(e,t)}(n.dom,e,t)}function Rn(n,e){var t=n.dom,r=window.getComputedStyle(t).getPropertyValue(e);return""!==r||Pe(n)?r:je(t,e)}function Pn(n,e){var t=n.dom,r=je(t,e);return Yn.from(r).filter(function(n){return 0<n.length})}function jn(n,e){var t,r=e;Q(t=n.dom)&&t.style.removeProperty(r),Dn(An(n,"style").map(he),"")&&q(n,"style")}function Fn(e,t){tn(e).each(function(n){n.dom.insertBefore(t.dom,e.dom)})}function Mn(n,e){un(n).fold(function(){tn(n).each(function(n){Fe(n,e)})},function(n){Fn(n,e)})}function Bn(e,t){an(e,0).fold(function(){Fe(e,t)},function(n){e.dom.insertBefore(t.dom,n.dom)})}function zn(n,e){Fn(n,e),Fe(e,n)}function Wn(e,n){Sn(n,function(n){Fn(e,n)})}function Vn(t,r){Sn(r,function(n,e){Mn(0===e?t:r[e-1],n)})}function qn(e,n){Sn(n,function(n){Fe(e,n)})}function Un(n){if(null==n)throw new Error("Node cannot be null or undefined");return{dom:n}}function Hn(){return ge(0,0)}function Jn(n){function e(n){return function(){return t===n}}var t=n.current,r=n.version;return{current:t,version:r,isEdge:e("Edge"),isChrome:e("Chrome"),isIE:e("IE"),isOpera:e("Opera"),isFirefox:e(we),isSafari:e("Safari")}}function Kn(n){function e(n){return function(){return t===n}}var t=n.current,r=n.version;return{current:t,version:r,isWindows:e(ke),isiOS:e("iOS"),isAndroid:e(Te),isOSX:e("OSX"),isLinux:e("Linux"),isSolaris:e(Se),isFreeBSD:e(Oe),isChromeOS:e(Ee)}}var $n,Xn=function(t){function n(){return o}function e(n){return n(t)}var r=vn(t),o={fold:function(n,e){return e(t)},isSome:m,isNone:xn,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:n,orThunk:n,map:function(n){return Xn(n(t))},each:function(n){n(t)},bind:e,exists:e,forall:e,filter:function(n){return n(t)?o:v},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return o},Yn={some:Xn,none:g,from:function(n){return null==n?v:Xn(n)}},Gn=Array.prototype.slice,Zn=Array.prototype.indexOf,Qn=Array.prototype.push,ne={fromHtml:function(n,e){var t=(e||document).createElement("div");if(t.innerHTML=n,!t.hasChildNodes()||1<t.childNodes.length)throw console.error("HTML does not have a single root node",n),new Error("HTML must have a single root node");return Un(t.childNodes[0])},fromTag:function(n,e){var t=(e||document).createElement(n);return Un(t)},fromText:function(n,e){var t=(e||document).createTextNode(n);return Un(t)},fromDom:Un,fromPoint:function(n,e,t){return Yn.from(n.dom.elementFromPoint(e,t)).map(Un)}},ee=Object.keys,te=Object.hasOwnProperty,re=function(n,r){var o={};return En(n,function(n,e){var t=r(n,e);o[t.k]=t.v}),o},oe=function(n,e){return te.call(n,e)},ie="undefined"!=typeof window?window:Function("return this;")(),ue=L,ce=Object.getPrototypeOf,ae=j(1),fe=j(3),se=j(9),le=j(11),de=function(){return(de=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}).apply(this,arguments)},ge=function(n,e){return{major:n,minor:e}},me={nu:ge,detect:function(n,e){var t,r,o=String(e).toLowerCase();return 0===n.length?Hn():(r=function(n,e){for(var t=0;t<n.length;t++){var r=n[t];if(r.test(e))return r}}(n,t=o))?ge(i(1),i(2)):{major:0,minor:0};function i(n){return Number(t.replace(r,"$"+n))}},unknown:Hn},pe=function(n,e){return J(n,e,n.length-e.length)},he=($n=/^\s+|\s+$/g,function(n){return n.replace($n,"")}),ve=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ye={browsers:vn([{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(n){return K(n,"edge/")&&K(n,"chrome")&&K(n,"safari")&&K(n,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ve],search:function(n){return K(n,"chrome")&&!K(n,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(n){return K(n,"msie")||K(n,"trident")}},{name:"Opera",versionRegexes:[ve,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:$("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:$("firefox")},{name:"Safari",versionRegexes:[ve,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(n){return(K(n,"safari")||K(n,"mobile/"))&&K(n,"applewebkit")}}]),oses:vn([{name:"Windows",search:$("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(n){return K(n,"iphone")||K(n,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:$("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:$("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:$("linux"),versionRegexes:[]},{name:"Solaris",search:$("sunos"),versionRegexes:[]},{name:"FreeBSD",search:$("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:$("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}])},we="Firefox",be=function(){return Jn({current:void 0,version:me.unknown()})},xe=Jn,ke=(vn("Edge"),vn("Chrome"),vn("IE"),vn("Opera"),vn(we),vn("Safari"),"Windows"),Te="Android",Se="Solaris",Oe="FreeBSD",Ee="ChromeOS",Ce=function(){return Kn({current:void 0,version:me.unknown()})},_e=Kn,Ie=(vn(ke),vn("iOS"),vn(Te),vn("Linux"),vn("OSX"),vn(Se),vn(Oe),vn(Ee),U(function(){return n=navigator.userAgent,e=Yn.from(navigator.userAgentData),t=X,p=ye.browsers(),h=ye.oses(),v=e.bind(function(n){return r=p,D(n.brands,function(e){var t=e.brand.toLowerCase();return T(r,function(n){var e;return t===(null===(e=n.brand)||void 0===e?void 0:e.toLowerCase())}).map(function(n){return{current:n.name,version:me.nu(parseInt(e.version,10),0)}})});var r}).orThunk(function(){return H(p,t=n).map(function(n){var e=me.detect(n.versionRegexes,t);return{current:n.name,version:e}});var t}).fold(be,xe),y=H(h,r=n).map(function(n){var e=me.detect(n.versionRegexes,r);return{current:n.name,version:e}}).fold(Ce,_e),{browser:v,os:y,deviceType:(i=v,u=n,c=t,a=(o=y).isiOS()&&!0===/ipad/i.test(u),f=o.isiOS()&&!a,l=(s=o.isiOS()||o.isAndroid())||c("(pointer:coarse)"),d=a||!f&&s&&c("(min-device-width:768px)"),g=f||s&&!d,m=i.isSafari()&&o.isiOS()&&!1===/safari/i.test(u),{isiPad:vn(a),isiPhone:vn(f),isTablet:vn(d),isPhone:vn(g),isTouch:vn(l),isAndroid:o.isAndroid,isiOS:o.isiOS,isWebView:vn(m),isDesktop:vn(!g&&!d&&!m)})};var n,e,t,r,o,i,u,c,a,f,s,l,d,g,m,p,h,v,y})),Ae=Y,De=h(Element.prototype.attachShadow)&&h(Node.prototype.getRootNode),Ne=vn(De),Le=De?function(n){return ne.fromDom(n.dom.getRootNode())}:en,Re=function(n){return pn(n.dom.shadowRoot)},Pe=function(n){var e=fe(n)?n.dom.parentNode:n.dom;if(null==e||null===e.ownerDocument)return!1;var t,r,o,i,u,c=e.ownerDocument;return o=ne.fromDom(e),u=Le(o),(le(i=u)&&pn(i.dom.host)?Yn.some(u):Yn.none()).fold(function(){return c.body.contains(e)},(t=Pe,r=Nn,function(n){return t(r(n))}))},je=function(n,e){return Q(n)?n.style.getPropertyValue(e):""},Fe=function(n,e){n.dom.appendChild(e.dom)},Me=function(n,e){var t=[];return Sn(cn(n),function(n){t=(t=e(n)?t.concat([n]):t).concat(Me(n,e))}),t};function Be(n,e,t){for(var r=n.dom,o=h(t)?t:xn;r.parentNode;){var r=r.parentNode,i=ne.fromDom(r);if(e(i))return Yn.some(i);if(o(i))break}return Yn.none()}function ze(n){var e=n.dom;null!==e.parentNode&&e.parentNode.removeChild(e)}function We(n){var e=cn(n);0<e.length&&Wn(n,e),ze(n)}function Ve(n,e){return 1!==(t=r=void 0===n?document:n.dom).nodeType&&9!==t.nodeType&&11!==t.nodeType||0===t.childElementCount?[]:Tn(r.querySelectorAll(e),ne.fromDom);var t,r}function qe(n,e,t){return Be(n,function(n){return Y(n,e)},t)}function Ue(n,e,t){var r,o,i=qe,u=t;return Y(r=n,o=e)?Yn.some(r):h(u)&&u(r)?Yn.none():i(r,o,u)}function He(n){return Xe.get(n)}function Je(n,e){return Xe.set(n,e)}var Ke,$e,Xe=(Ke=fe,{get:function(n){if(!Ke(n))throw new Error("Can only get text value of a text node");return $e(n).getOr("")},getOption:$e=function(n){return Ke(n)?Yn.from(n.dom.nodeValue):Yn.none()},set:function(n,e){if(!Ke(n))throw new Error("Can only set raw text value of a text node");n.dom.nodeValue=e}}),Ye=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function Ge(){return{up:vn({selector:qe,closest:Ue,predicate:Be,all:rn}),down:vn({selector:Ve,predicate:Me}),styles:vn({get:Rn,getRaw:Pn,set:Ln,remove:jn}),attrs:vn({get:V,set:W,remove:q,copyTo:function(n,e){var t=k(n.dom.attributes,function(n,e){return n[e.name]=e.value,n},{}),r=e.dom;En(t,function(n,e){z(r,e,n)})}}),insert:vn({before:Fn,after:Mn,afterAll:Vn,append:Fe,appendAll:qn,prepend:Bn,wrap:zn}),remove:vn({unwrap:We,remove:ze}),create:vn({nu:ne.fromTag,clone:function(n){return ne.fromDom(n.dom.cloneNode(!1))},text:ne.fromText}),query:vn({comparePosition:function(n,e){return n.dom.compareDocumentPosition(e.dom)},prevSibling:on,nextSibling:un}),property:vn({children:cn,name:R,parent:tn,document:function(n){return en(n).dom},isText:fe,isComment:F,isElement:ae,isSpecial:function(n){return x(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],R(n))},getLanguage:function(n){return ae(n)?An(n,"lang"):Yn.none()},getText:He,setText:Je,isBoundary:function(n){return!!ae(n)&&("body"===R(n)||x(Ye,R(n)))},isEmptyTag:function(n){return!!ae(n)&&x(["br","img","hr","input"],R(n))},isNonEditable:function(n){return ae(n)&&"false"===V(n,"contenteditable")}}),eq:G,is:Ae}}function Ze(n,e){return{element:n,offset:e}}function Qe(n,e,t){return{element:n,start:e,finish:t}}function nt(u){if(!wn(u))throw new Error("cases must be an array");if(0===u.length)throw new Error("there must be at least one case");var c=[],t={};return Sn(u,function(n,r){var e=ee(n);if(1!==e.length)throw new Error("one and only one name per case");var o=e[0],i=n[o];if(void 0!==t[o])throw new Error("duplicate key detected:"+o);if("cata"===o)throw new Error("cannot have a case named cata (sorry)");if(!wn(i))throw new Error("case arguments must be an array");c.push(o),t[o]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=t.length;if(e!==i.length)throw new Error("Wrong number of arguments to case "+o+". Expected "+i.length+" ("+i+"), got "+e);return{fold:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(n.length!==u.length)throw new Error("Wrong number of arguments to fold. Expected "+u.length+", got "+n.length);return n[r].apply(null,t)},match:function(n){var e=ee(n);if(c.length!==e.length)throw new Error("Wrong number of arguments to match. Expected: "+c.join(",")+"\nActual: "+e.join(","));if(!E(c,function(n){return x(e,n)}))throw new Error("Not all branches were specified when using match. Specified: "+e.join(", ")+"\nRequired: "+c.join(", "));return n[o].apply(null,t)},log:function(n){console.log(n,{constructors:c,constructor:o,params:t})}}}}),t}var et="\ufeff",tt=nt([{before:["element"]},{after:["element"]},{rest:["element"]},{last:["element"]},{invalid:["element","offset"]}]);function rt(n,e){return S(n,function(n){return n.start===e})}tt.before,tt.after,tt.rest,tt.last,tt.invalid;var ot=function(n,t,e){return k(n,function(e,n){return t(n,e.len).fold(vn(e),function(n){return{len:n.finish,list:e.list.concat([n])}})},{len:e=void 0===e?0:e,list:[]}).list},it=function(n,i,u){return 0===i.length?n:O(n,function(e){var n,t,r,o=O(i,function(n){return n>=e.start&&n<=e.finish?[n-e.start]:[]});return 0<o.length?(t=u(n=e,o),r=n.start,Tn(t,function(n){return de(de({},n),{start:n.start+r,finish:n.finish+r})})):[e]})},ut=function(t,n,r){var e=rt(t,n),o=rt(t,r);return e.bind(function(n){var e=o.getOr(t[t.length-1]&&t[t.length-1].finish===r?t.length+1:-1);return-1<e?Yn.some(t.slice(n,e)):Yn.none()}).getOr([])},ct=function(r,n){if(0===n.length)return[r];var e=k(n,function(n,e){if(0===e)return n;var t=r.substring(n.prev,e);return{prev:e,values:n.values.concat([t])}},{prev:0,values:[]}),t=n[n.length-1];return t<r.length?e.values.concat(r.substring(t)):e.values},at=nt([{none:[]},{start:["element"]},{middle:["before","after"]},{end:["element"]}]);function ft(n){return de(de({},n),{isBoundary:function(){return n.fold(Vt,Wt,Wt,Wt)},toText:function(){return n.fold(Yn.none,Yn.none,function(n){return Yn.some(n)},Yn.none)},is:function(t){return n.fold(Wt,Wt,function(n,e){return e.eq(n,t)},Wt)},len:function(){return n.fold(qt,Ut,function(n,e){return e.property().getText(n).length},Ut)}})}function st(n,e){var t=V(n,e);return void 0===t||""===t?[]:t.split(" ")}function lt(n){return void 0!==n.dom.classList}function dt(n,e){var t,r,o;lt(n)?n.dom.classList.add(e):(r=e,o=st(t=n,"class").concat([r]),W(t,"class",o.join(" ")))}function gt(n,e){var t,r,o,i;lt(n)?n.dom.classList.remove(e):(o=e,0<(i=On(st(r=n,"class"),function(n){return n!==o})).length?W(r,"class",i.join(" ")):q(r,"class")),0===(lt(t=n)?t.dom.classList:st(t,"class")).length&&q(t,"class")}function mt(n,e){return d(n.eq,e)}function pt(n,e){var t=n.property();return t.getLanguage(e).orThunk(function(){return D(n.up().all(e,xn),t.getLanguage)})}function ht(n,e){return{item:n,mode:e}}function vt(n,e,t,r){return void 0===r&&(r=or),n.property().parent(e).map(function(n){return ht(n,r)})}function yt(n,e,t,r){return fr(n,e,t,or,ar.right(),r)}function wt(){return{left:ar.left,right:ar.right}}function bt(n,e,t,r){return{item:n,start:e,finish:t,text:r}}function xt(n,e){return{items:n,abort:e}}function kt(n,e){var t=n.property().getText(e);return bt(e,0,t.length,t)}function Tt(n,e,t,r){return{term:function(){return new RegExp(n,r.getOr("g"))},prefix:e,suffix:t}}function St(n,e){for(var t=e.term(),r=[],o=t.exec(n);o;){var i=o.index+e.prefix(o),u=o[0].length-e.prefix(o)-e.suffix(o);r.push({start:i,finish:i+u}),t.lastIndex=i+u,o=t.exec(n)}return r}function Ot(n,e,t){return{word:n,left:e,right:t}}function Et(n){return x(_r,n)}function Ct(m){var n=hr(yr()+"+"),e=wr(m,n),p=m.length;return Tn(e,function(n){var e,t,r,o,i,u,c,a,f,s=n.start,l=n.finish,d=Ot(m.substring(s,l),0<s?Yn.some(m.charAt(s-1)):Yn.none(),l<p?Yn.some(m.charAt(l)):Yn.none()),g=2<=(f=(u=d).word).length&&Et(f.charAt(f.length-1))&&!Et(f.charAt(f.length-2))?Ot((a=(c=u).word).substring(0,a.length-1),c.left,Yn.some(a.charAt(a.length-1))):u;return o=(e=g).word,i=kn(Ir,function(n){return-1<o.indexOf(n)})?2:1,E(o.substring(0,i),Et)&&!Et(o.charAt(i))?Ot((r=(t=e).word).substring(1),Yn.some(r.charAt(0)),t.right):e})}function _t(f,n,e,s,l,d){return{zones:Tn(nr(f,n,e).bind(function(n){if(0===n.length)return Yn.none();var t,e=n[0],r=n[n.length-1],o=e,i=r,u=s,c=l,a=d;return((t=f).eq(o,i)?Yn.some(o):t.property().parent(o)).map(function(n){var e=tr(t,n).getOr(u);return function(c,n,e,t,a,f){for(var r=function(n){return!c.eq(n.item,e)||n.mode===ir&&!c.property().isText(n.item)&&0!==c.property().children(n.item).length},s=er(t),o=Yn.some({item:n,mode:ir}).filter(r);o.isSome();)o.each(function(n){var e,t=s,r=a,o=f,i=n,u=(e=c).property().getLanguage(i.item);e.property().isText(i.item)?t.addDetail(r(e,i.item)):e.property().isBoundary(i.item)?Dr.cata(o.assess(i.item),hn,function(){return i.mode===ir?t.openBoundary(u,i.item):t.closeBoundary(u,i.item),Yn.some(i)},hn):e.property().isEmptyTag(i.item)?t.addEmpty(i.item):i.mode===ir?t.openInline(u,i.item):t.closeInline(u,i.item)}),o=o.bind(function(n){return t=f,r=n,(e=c).property().isSpecial(r.item)||e.property().isNonEditable(r.item)?Yn.some({item:r.item,mode:or}):e.property().isBoundary(r.item)?Dr.cata(t.assess(r.item),function(){return r.mode!==vt?Yn.some({item:r.item,mode:or}):Yn.none()},function(){return Yn.some(r)},function(){return Yn.none()}):Yn.some(r);var e,t,r}).filter(r).bind(function(n){return lr(c,n.item,n.mode,wt().right())}).filter(r);return c.property().isText(e)&&s.addDetail(a(c,e)),s.done()}(t,o,i,e,c,a)})}).getOr([]),function(n){var e=n.details,t=n.lang,r=Tn(e,function(n){return n.text}).join(""),o=Tn(e,function(n){return n.item});return{lang:t,words:Ct(r),elements:o}})}}function It(n,e,t,r){return n.property().isBoundary(e)?_t(n,e,e,t,dr,r):n.property().isEmptyTag(e)?Rr():(i=t,u=r,d=(l=Cr(c=o=n,a=e,a,xn)).isEmpty&&(s=a,!(f=c).property().isText(s)&&0===f.down().predicate(s,f.property().isText).length),g={left:l.left,right:l.right,isEmpty:d},m=Nr(g.left,g.right),g.isEmpty?Lr():_t(o,g.left.item,g.right.item,i,m,u));var o,i,u,c,a,f,s,l,d,g,m}function At(n){var e={};return Sn(n,function(n){e[n]={}}),ee(e)}function Dt(){return(new Date).getTime()}function Nt(n,t){function r(n,e,t){u[n]={result:e,timestamp:t}}function o(n,e){return n-e<t}void 0===t&&(t=36e5);var e,i,u={},c=vn(u);return s(n)&&(e=n,i=Dt(),En(e,function(n,e){o(i,n.timestamp)&&r(e,n.result,n.timestamp)})),{set:r,get:function(e,n){return Yn.from(u[n]).filter(function(n){return o(e,n.timestamp)}).map(function(n){return n.result})},dump:c}}at.none,at.start,at.middle,at.end;function Lt(e,n,t){var r,o,i,u=O(n,function(n){return $t(e,n,t)});return On((r=function(n){return n.match({boundary:function(){return Bt.excludeWithout(n)},empty:function(){return Bt.excludeWith(n)},text:function(){return Bt.include(n)},nonEditable:function(){return Bt.excludeWithout(n)}})},o=[],i=[],Sn(u,function(n){var e=r(n);Bt.cata(e,function(){i.push(n)},function(){0<i.length&&o.push(i),o.push([n]),i=[]},function(){0<i.length&&o.push(i),i=[]})}),0<i.length&&o.push(i),o),function(n){return 0<n.length})}function Rt(n,e){return n.property().isText(e)?kt(n,e):bt(e,0,0,"")}function Pt(n,e,t,r){return(n.property().isBoundary(e)||n.property().isEmptyTag(e)||r(n,e)?function(n,e,t){return xt([],!0)}:n.property().isText(e)?function(n,e,t){var r=n.property().getText(e);return t(r).fold(function(){return xt([bt(e,0,r.length,r)],!1)},function(n){return xt(n[0]===n[1]?[]:[bt(e,n[0],n[1],r.substring(n[0],n[1]))],!0)})}:function(n,e,t){return xt([],!1)})(n,e,t)}var jt,Ft,Mt=nt([{include:["item"]},{excludeWith:["item"]},{excludeWithout:["item"]}]),Bt={include:Mt.include,excludeWith:Mt.excludeWith,excludeWithout:Mt.excludeWithout,cata:function(n,e,t,r){return n.fold(e,t,r)}},zt=nt([{boundary:["item","universe"]},{empty:["item","universe"]},{text:["item","universe"]},{nonEditable:["item","universe"]}]),Wt=xn,Vt=m,qt=vn(0),Ut=vn(1),Ht={text:a(ft,zt.text),boundary:a(ft,zt.boundary),empty:a(ft,zt.empty),nonEditable:a(ft,zt.empty),cata:function(n,e,t,r,o){return n.fold(e,t,r,o)}},Jt=vn([]),Kt=function(e,n,t){if(e.property().isText(n))return[Ht.text(n,e)];if(e.property().isEmptyTag(n))return[Ht.empty(n,e)];if(e.property().isNonEditable(n))return[];if(e.property().isElement(n)){var r=e.property().children(n),o=e.property().isBoundary(n)?[Ht.boundary(n,e)]:[],i=void 0!==t&&t(n)?[]:O(r,function(n){return Kt(e,n,t)});return o.concat(i).concat(o)}return[]},$t=Kt,Xt=function(n,e){if(n.property().isText(e))return Ze(e,n.property().getText(e).length);var t=n.property().children(e);return 0<t.length?Xt(n,t[t.length-1]):Ze(e,t.length)},Yt=function(n,e,t){var r=n.property().children(e);return 0<r.length&&t<r.length?Yt(n,r[t],0):0<r.length&&n.property().isElement(e)&&r.length===t?Xt(n,r[r.length-1]):Ze(e,t)},Gt=function(t,n,r){return 0===n.length?n:Tn(On(n,function(n){return t.property().isText(n)&&0<t.property().getText(n).length}),function(n){var e=r();return t.insert().before(n,e.element),e.wrap(n),e.element})},Zt=Ge(),Qt=Yt,nr=function(e,n,t){var r=function(e,n,t,r){function o(e){return S(e,r).fold(function(){return e},function(n){return e.slice(0,n+1)})}void 0===r&&(r=xn);var i=[n].concat(e.up().all(n)),u=[t].concat(e.up().all(t)),c=o(i),a=o(u),f=T(c,function(n){return kn(a,mt(e,n))});return{firstpath:c,secondpath:a,shared:f}}(e,n,t);return r.shared.bind(function(n){return function(o,i,n,e){var u=o.property().children(i);if(o.eq(i,n[0]))return Yn.some([n[0]]);if(o.eq(i,e[0]))return Yn.some([e[0]]);function t(n){var e=C(n),t=S(e,mt(o,i)).getOr(-1),r=t<e.length-1?e[t+1]:e[t];return S(u,mt(o,r))}var r=t(n),c=t(e);return r.bind(function(r){return c.map(function(n){var e=Math.min(r,n),t=Math.max(r,n);return u.slice(e,t+1)})})}(e,n,r.firstpath,r.secondpath)})},er=function(e){function r(n){n.each(function(n){c.push(n)})}function t(n){n.each(function(n){c=c.slice(0,c.length-1)})}function o(){0<a.length&&n.push({lang:f,details:a})}function i(n){o(),a=[],f=n}function u(n){return n.or(Yn.from(c[c.length-1])).getOr(e)}var c=[],n=[],a=[],f=e;return{openInline:function(n,e){var t=u(n);t!==f&&i(t),r(n)},closeInline:function(n,e){t(n)},addDetail:function(n){var e=u(Yn.none());e!==f&&i(e),a.push(n)},addEmpty:function(n){i(u(Yn.none()))},openBoundary:function(n,e){r(n),i(u(n))},closeBoundary:function(n,e){t(n),i(u(n))},done:function(){return o(),n.slice(0)}}},tr=pt,rr=function(r,o){return function(n,e){var t=pt(n,e).getOr(r);return o!==t}},or=function(n,e,t,r){return void 0===r&&(r=ir),t.sibling(n,e).map(function(n){return ht(n,r)})},ir=function(n,e,t,r){void 0===r&&(r=ir);var o=n.property().children(e);return t.first(o).map(function(n){return ht(n,r)})},ur=[{current:vt,next:or,fallback:Yn.none()},{current:or,next:ir,fallback:Yn.some(vt)},{current:ir,next:ir,fallback:Yn.some(or)}],cr=function(e,t,r,o,n){return T(n=void 0===n?ur:n,function(n){return n.current===r}).bind(function(n){return n.current(e,t,o,n.next).orThunk(function(){return n.fallback.bind(function(n){return cr(e,t,n,o)})})})},ar={left:function(){return{sibling:function(n,e){return n.query().prevSibling(e)},first:function(n){return 0<n.length?Yn.some(n[n.length-1]):Yn.none()}}},right:function(){return{sibling:function(n,e){return n.query().nextSibling(e)},first:function(n){return 0<n.length?Yn.some(n[0]):Yn.none()}}}},fr=function(e,n,t,r,o,i){return cr(e,n,r,o).bind(function(n){return i(n.item)?Yn.none():t(n.item)?Yn.some(n.item):fr(e,n.item,t,n.mode,o,i)})},sr=yt,lr=cr,dr=kt,gr=vn("[^\\w'\\-\\u0100-\\u017F\\u00C0-\\u00FF\ufeff\\u2018\\u2019]"),mr=vn("[\\w'\\-\\u0100-\\u017F\\u00C0-\\u00FF\ufeff\\u2018\\u2019]"),pr=Tt,hr=function(n){return Tt(n,vn(0),vn(0),Yn.none())},vr=gr,yr=mr,wr=St,br=new RegExp(vr()+"+","g"),xr=vn(0),kr=wt(),Tr=kr.left(),Sr=kr.right(),Or={left:{sibling:Tr.sibling,first:Tr.first,slicer:function(e){return n=wr(e,pr(vr(),xr,xr,Yn.none())),Yn.from(n[n.length-1]).map(function(n){return n.start}).map(function(n){return[n+1,e.length]});var n}},right:{sibling:Sr.sibling,first:Sr.first,slicer:function(n){return(-1<(e=n.search(br))?Yn.some(e):Yn.none()).map(function(n){return[0,n]});var e}}},Er=function(r,n,e,o,i){return On(lr(r,n,e,o).map(function(n){var e=Pt(r,n.item,o.slicer,i),t=e.abort?[]:Er(r,n.item,n.mode,o,i);return e.items.concat(t)}).getOr([]),function(n){return 0<n.text.trim().length})},Cr=function(n,e,t,r){var o=Er(n,e,or,Or.left,r),i=Er(n,t,or,Or.right,r);return{left:0<o.length?o[o.length-1]:Rt(n,e),right:0<i.length?i[i.length-1]:Rt(n,t),isEmpty:0===o.length&&0===i.length}},_r=["'","\u2018","\u2019"],Ir=O(_r,function(e){return Tn(["twas"],function(n){return e+n})}),Ar=nt([{aboveView:["item"]},{inView:["item"]},{belowView:["item"]}]),Dr=de(de({},Ar),{cata:function(n,e,t,r){return n.fold(e,t,r)}}),Nr=function(t,r){return function(n,e){return n.eq(e,t.item)?t:n.eq(e,r.item)?r:dr(n,e)}},Lr=function(){return{zones:[]}},Rr=Lr;(Ft=jt=jt||{}).JSON="json",Ft.Blob="blob",Ft.Text="text",Ft.FormData="formdata",Ft.MultipartFormData="multipart/form-data";var Pr,jr,Fr,Mr={},Br={exports:Mr};function zr(n){setTimeout(function(){throw n},0)}function Wr(n){return fo(oo(n))}function Vr(n){return fo(io(ao.value(n)))}function qr(e){return oo(function(t){var n=new FileReader;n.onload=function(n){var e=n.target?n.target.result:"";t(e)},n.readAsText(e)})}function Ur(n){try{var e=JSON.parse(n);return ao.value(e)}catch(n){return ao.error("Response was not JSON.")}}function Hr(n){return io(n.response)}function Jr(n,e){function t(n){return so.error({message:n,status:e.status,responseText:e.responseText})}switch(n){case jt.JSON:return Ur(e.response).fold(t,so.pure);case jt.Blob:case jt.Text:return so.pure(e.response);default:return t("unknown data type")}}function Kr(m){return so.nu(function(r){var o,i=new XMLHttpRequest;i.open(m.method,(o=m.url,Yn.from(m.query).map(function(n){var e=_n(n,function(n,e){return encodeURIComponent(e)+"="+encodeURIComponent(n)}),t=K(o,"?")?"&":"?";return 0<e.length?o+t+e.join("&"):o}).getOr(o)),!0);var t,n,e,u,c,a,f,s,l,d=(u=(e=m).body,c=Yn.from(u).bind(function(n){switch(n.type){case jt.JSON:return Yn.some("application/json");case jt.FormData:return Yn.some("application/x-www-form-urlencoded; charset=UTF-8");case jt.MultipartFormData:return Yn.none();default:return jt.Text,Yn.some("text/plain")}}),a=!0===e.credentials?Yn.some(!0):Yn.none(),f=function(){switch(e.responseType){case jt.Blob:return"application/octet-stream";case jt.JSON:return"application/json, text/javascript";case jt.Text:return"text/plain";default:return""}}()+", */*; q=0.01",s=void 0!==e.headers?e.headers:{},{contentType:c,responseType:function(){switch(e.responseType){case jt.JSON:return Yn.none();case jt.Blob:return Yn.some("blob");case jt.Text:return Yn.some("text");default:return Yn.none()}}(),credentials:a,accept:f,headers:s,progress:h(e.progress)?Yn.some(e.progress):Yn.none()});function g(){var e,t=m.url;(function(n,e){switch(n){case jt.JSON:return Ur(e.response).fold(function(){return Hr(e)},io);case jt.Blob:return Yn.from(e.response).map(qr).getOr(io("no response content"));default:return jt.Text,Hr(e)}})(m.responseType,e=i).map(function(n){return{message:0===e.status?"Unknown HTTP error (possible cross-domain request)":"Could not load url "+t+": "+e.statusText,status:e.status,responseText:n}}).get(function(n){return r(ao.error(n))})}t=i,(n=d).contentType.each(function(n){return t.setRequestHeader("Content-Type",n)}),t.setRequestHeader("Accept",n.accept),n.credentials.each(function(n){return t.withCredentials=n}),n.responseType.each(function(n){return t.responseType=n}),n.progress.each(function(e){return t.upload.addEventListener("progress",function(n){return e(n.loaded,n.total)})}),En(n.headers,function(n,e){return t.setRequestHeader(e,n)}),i.onerror=g,i.onload=function(){0===i.status&&!J(m.url,"file:",0)||i.status<100||400<=i.status?g():Jr(m.responseType,i).get(r)},l=m.body,Yn.from(l).map(function(n){return n.type===jt.JSON?JSON.stringify(n.data):n.type===jt.FormData||n.type===jt.MultipartFormData?(e=n.data,t=new FormData,En(e,function(n,e){t.append(e,n)}),t):n.data;var e,t}).fold(function(){return i.send()},function(n){i.send(n)})})}function $r(n){return{tag:1,error:n}}function Xr(n){var e=n.responseText;return s(e)?e:n.message}function Yr(u,c,a){void 0===a&&(a=Xr);var n,f=In(n=c,"tiny-api-key").orThunk(function(){return In(n,"tinymce-api-key")}).orThunk(function(){return In(n,"textbox-api-key")}).getOrUndefined();return{execute:function(n){var e,t,r,o,i=(e={url:(r=f,o=-1===(t=u).indexOf("?")?"?":"&",r?t+o+"apiKey="+encodeURIComponent(r):t),body:{type:jt.JSON,data:n},responseType:jt.JSON,credentials:!0,headers:c},Kr(de(de({},e),{method:"post"})).mapError(a));return so.wrap(i)},cancelCurrent:hn}}function Gr(e,t){var r=[];return{execute:function(n){return(0===e?so.nu(function(n){r.push({resume:function(){return n(ao.value(void 0))},reject:function(){return n(ao.error({tag:0}))}})}):(--e,so.pure(void 0))).bindFuture(function(){return t.execute(n).map(function(n){return Yn.from(r.shift()).fold(function(){return e+=1},function(n){return setTimeout(n.resume,0)}),n.mapError($r)})})},cancelCurrent:function(){for(var n;r.length;)null!==(n=r.pop())&&void 0!==n&&n.reject()}}}Pr=Mr,jr=Br,Fr=void 0,function(n){"object"==typeof Pr&&void 0!==jr?jr.exports=n():("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EphoxContactWrapper=n()}(function(){return function i(u,c,a){function f(e,n){if(!c[e]){if(!u[e]){var t="function"==typeof Fr;if(!n&&t)return t(e,!0);if(s)return s(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var o=c[e]={exports:{}};u[e][0].call(o.exports,function(n){return f(u[e][1][n]||n)},o,o.exports,i,u,c,a)}return c[e].exports}for(var s="function"==typeof Fr,n=0;n<a.length;n++)f(a[n]);return f}({1:[function(n,e,t){var r,o,i=e.exports={};function u(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===u||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(n){try{return r.call(null,e,0)}catch(n){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:u}catch(n){r=u}try{o="function"==typeof clearTimeout?clearTimeout:c}catch(n){o=c}}();var f,s=[],l=!1,d=-1;function g(){l&&f&&(l=!1,f.length?s=f.concat(s):d=-1,s.length&&m())}function m(){if(!l){var n=a(g);l=!0;for(var e=s.length;e;){for(f=s,s=[];++d<e;)f&&f[d].run();d=-1,e=s.length}f=null,l=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===c||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(n){try{return o.call(null,e)}catch(n){return o.call(this,e)}}}(n)}}function p(n,e){this.fun=n,this.array=e}function h(){}i.nextTick=function(n){var e=new Array(arguments.length-1);if(1<arguments.length)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];s.push(new p(n,e)),1!==s.length||l||a(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(n){return[]},i.binding=function(n){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(n){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(n,l,e){!function(e){function r(){}function i(n){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],s(n,this)}function o(t,r){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,i._immediateFn(function(){var n,e=1===t._state?r.onFulfilled:r.onRejected;if(null!==e){try{n=e(t._value)}catch(n){return void c(r.promise,n)}u(r.promise,n)}else(1===t._state?u:c)(r.promise,t._value)})):t._deferreds.push(r)}function u(e,n){try{if(n===e)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var t=n.then;if(n instanceof i)return e._state=3,e._value=n,void a(e);if("function"==typeof t)return void s((r=t,o=n,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=n,a(e)}catch(n){c(e,n)}var r,o}function c(n,e){n._state=2,n._value=e,a(n)}function a(n){2===n._state&&0===n._deferreds.length&&i._immediateFn(function(){n._handled||i._unhandledRejectionFn(n._value)});for(var e=0,t=n._deferreds.length;e<t;e++)o(n,n._deferreds[e]);n._deferreds=null}function f(n,e,t){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof e?e:null,this.promise=t}function s(n,e){var t=!1;try{n(function(n){t||(t=!0,u(e,n))},function(n){t||(t=!0,c(e,n))})}catch(n){if(t)return;t=!0,c(e,n)}}var t=setTimeout;i.prototype.catch=function(n){return this.then(null,n)},i.prototype.then=function(n,e){var t=new this.constructor(r);return o(this,new f(n,e,t)),t},i.all=function(n){var c=Array.prototype.slice.call(n);return new i(function(o,i){if(0===c.length)return o([]);for(var u=c.length,n=0;n<c.length;n++)!function e(t,n){try{if(n&&("object"==typeof n||"function"==typeof n)){var r=n.then;if("function"==typeof r)return r.call(n,function(n){e(t,n)},i),0}c[t]=n,0==--u&&o(c)}catch(n){i(n)}}(n,c[n])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(n){n(e)})},i.reject=function(t){return new i(function(n,e){e(t)})},i.race=function(o){return new i(function(n,e){for(var t=0,r=o.length;t<r;t++)o[t].then(n,e)})},i._immediateFn="function"==typeof e?function(n){e(n)}:function(n){t(n,0)},i._unhandledRejectionFn=function(n){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",n)},i._setImmediateFn=function(n){i._immediateFn=n},i._setUnhandledRejectionFn=function(n){i._unhandledRejectionFn=n},void 0!==l&&l.exports?l.exports=i:this.Promise||(this.Promise=i)}.call(this,n("timers").setImmediate)},{timers:3}],3:[function(a,n,f){!function(n,e){var r=a("process/browser.js").nextTick,t=Function.prototype.apply,o=Array.prototype.slice,i={},u=0;function c(n,e){this._id=n,this._clearFn=e}f.setTimeout=function(){return new c(t.call(setTimeout,window,arguments),clearTimeout)},f.setInterval=function(){return new c(t.call(setInterval,window,arguments),clearInterval)},f.clearTimeout=f.clearInterval=function(n){n.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},f.enroll=function(n,e){clearTimeout(n._idleTimeoutId),n._idleTimeout=e},f.unenroll=function(n){clearTimeout(n._idleTimeoutId),n._idleTimeout=-1},f._unrefActive=f.active=function(n){clearTimeout(n._idleTimeoutId);var e=n._idleTimeout;0<=e&&(n._idleTimeoutId=setTimeout(function(){n._onTimeout&&n._onTimeout()},e))},f.setImmediate="function"==typeof n?n:function(n){var e=u++,t=!(arguments.length<2)&&o.call(arguments,1);return i[e]=!0,r(function(){i[e]&&(t?n.apply(null,t):n.call(null),f.clearImmediate(e))}),e},f.clearImmediate="function"==typeof e?e:function(n){delete i[n]}}.call(this,a("timers").setImmediate,a("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(n,e,t){var r=n("promise-polyfill"),o="undefined"!=typeof window?window:Function("return this;")();e.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)});var Zr,Qr,no=Br.exports.boltExport,eo=function(n){function r(n){o()?i(n):e.push(n)}var t=Yn.none(),e=[],o=function(){return t.isSome()},i=function(e){t.each(function(n){setTimeout(function(){e(n)},0)})};return n(function(n){o()||(t=Yn.some(n),Sn(e,i),e=[])}),{get:r,map:function(t){return eo(function(e){r(function(n){e(t(n))})})},isReady:o}},to={nu:eo,pure:function(e){return eo(function(n){n(e)})}},ro=function(t){function n(n){t().then(n,zr)}return{map:function(n){return ro(function(){return t().then(n)})},bind:function(e){return ro(function(){return t().then(function(n){return e(n).toPromise()})})},anonBind:function(n){return ro(function(){return t().then(function(){return n.toPromise()})})},toLazy:function(){return to.nu(n)},toCached:function(){var n=null;return ro(function(){return n=null===n?t():n})},toPromise:t,get:n}},oo=function(n){return ro(function(){return new no(n)})},io=function(n){return ro(function(){return no.resolve(n)})},uo=function(t){return{isValue:m,isError:xn,getOr:vn(t),getOrThunk:vn(t),getOrDie:vn(t),or:function(n){return uo(t)},orThunk:function(n){return uo(t)},fold:function(n,e){return e(t)},map:function(n){return uo(n(t))},mapError:function(n){return uo(t)},each:function(n){n(t)},bind:function(n){return n(t)},exists:function(n){return n(t)},forall:function(n){return n(t)},toOptional:function(){return Yn.some(t)}}},co=function(t){return{isValue:xn,isError:m,getOr:y,getOrThunk:function(n){return n()},getOrDie:function(){return n=String(t),function(){throw new Error(n)}();var n},or:y,orThunk:function(n){return n()},fold:function(n,e){return n(t)},map:function(n){return co(t)},mapError:function(n){return co(n(t))},each:hn,bind:function(n){return co(t)},exists:xn,forall:m,toOptional:Yn.none}},ao={value:uo,error:co,fromOption:function(n,e){return n.fold(function(){return co(e)},uo)}},fo=function(i){return de(de({},i),{toCached:function(){return fo(i.toCached())},bindFuture:function(e){return fo(i.bind(function(n){return n.fold(function(n){return io(ao.error(n))},function(n){return e(n)})}))},bindResult:function(e){return fo(i.map(function(n){return n.bind(e)}))},mapResult:function(e){return fo(i.map(function(n){return n.map(e)}))},mapError:function(e){return fo(i.map(function(n){return n.mapError(e)}))},foldResult:function(e,t){return i.map(function(n){return n.fold(e,t)})},withTimeout:function(n,o){return fo(oo(function(e){var t=!1,r=setTimeout(function(){t=!0,e(ao.error(o()))},n);i.get(function(n){t||(clearTimeout(r),e(n))})}))}})},so={nu:Wr,wrap:fo,pure:Vr,value:Vr,error:function(n){return fo(io(ao.error(n)))},fromResult:function(n){return fo(io(n))},fromFuture:function(n){return fo(n.map(ao.value))},fromPromise:function(n){return Wr(function(e){n.then(function(n){e(ao.value(n))},function(n){e(ao.error(n))})})}};function lo(n,e,t){return n.stype===Zr.Error?e(n.serror):t(n.svalue)}function go(n){return s(n)&&100<ee(n).length?" removed due to size":JSON.stringify(n,null,2)}function mo(n,e){return Oo([{path:n,getErrorInfo:e}])}function po(u){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(0===n.length)throw new Error("Can't merge zero objects");for(var t={},r=0;r<n.length;r++){var o,i=n[r];for(o in i)oe(i,o)&&(t[o]=u(t[o],i[o]))}return t}}function ho(n,e,t){switch(n.tag){case"field":return e(n.key,n.newKey,n.presence,n.prop);case"custom":return t(n.newKey,n.instantiator)}}function vo(n,e,t,r){return r(In(n,e).getOrThunk(function(){return t(n)}))}function yo(e,t,r,o,i){function u(n){return i.extract(t.concat([o]),n)}function n(n){return n.fold(function(){return So(Yn.none())},function(n){var e=i.extract(t.concat([o]),n);return Eo(e,Yn.some)})}var c,a,f,s,l,d;switch(e.tag){case"required":return f=t,d=u,In(s=r,l=o).fold(function(){return n=l,e=s,mo(f,function(){return'Could not find valid *required* value for "'+n+'" in '+go(e)});var n,e},d);case"defaultedThunk":return vo(r,o,e.process,u);case"option":return n(In(r,o));case"defaultedOptionThunk":return a=e.process,n(In(c=r,o).map(function(n){return!0===n?a(c):n}));case"mergeWithThunk":return vo(r,o,vn({}),function(n){return u(Io(e.process(r),n))})}}function wo(n,e,t){return To((o=e.extract([n],r=t),Co(o,function(n){return{input:r,errors:n}}))).fold(function(n){throw new Error(No(n))},y);var r,o}function bo(n){return u=n,oo(function(r){var o=[],i=0;0===u.length?r([]):Sn(u,function(n,e){var t;n.get((t=e,function(n){o[t]=n,++i>=u.length&&r(o)}))})});var u}function xo(n){var e=(new Date).getTime();return n+"_"+Math.floor(1e9*Math.random())+ ++Lo+String(e)}(Qr=Zr={})[Qr.Error=0]="Error",Qr[Qr.Value=1]="Value";var ko,To=function(n){return lo(n,ao.error,ao.value)},So=function(n){return{stype:Zr.Value,svalue:n}},Oo=function(n){return{stype:Zr.Error,serror:n}},Eo=function(n,e){return n.stype===Zr.Value?{stype:Zr.Value,svalue:e(n.svalue)}:n},Co=function(n,e){return n.stype===Zr.Error?{stype:Zr.Error,serror:e(n.serror)}:n},_o=lo,Io=po(function(n,e){return s(n)&&s(e)?Io(n,e):e}),Ao=po(function(n,e){return e}),Do=(ko=So,{extract:function(e,n){return t=ko(n),r=function(n){return mo(e,vn(n))},t.stype===Zr.Error?r(t.serror):t;var t,r},toString:vn("val")}),No=function(n){return"Errors: \n"+Tn(10<(e=n.errors).length?e.slice(0,10).concat([{path:[],getErrorInfo:vn("... (only showing first ten failures)")}]):e,function(n){return"Failed path: ("+n.path.join(" > ")+")\n"+n.getErrorInfo()}).join("\n")+"\n\nInput object: "+go(n.input);var e},Lo=0;function Ro(n,e,t,r,o,i){var u,c,a,f,s,l,d,g,m=(s=e.get,l=o,d=t,g=r,i?{known:{},unknown:d}:k(d,function(r,n){var o=g(n);return s(l,o).fold(function(){return{known:r.known,unknown:r.unknown.concat([n])}},function(n){var e,t=((e={})[o]=n,e);return{known:de(de({},r.known),t),unknown:r.unknown}})},{known:{},unknown:[]}));return 0===m.unknown.length?so.value(m.known):(u=e,c=m.known,a=m.unknown,f=o,n(a,i).mapResult(function(n){return En(n,function(n,e){u.set(e,n,f)}),de(de({},c),n)}))}function Po(n){return{tag:"field",key:n,newKey:n,presence:{tag:"required",process:{}},prop:pu()}}function jo(t,u,r,n,e){var o=bo(Tn(function(n,e){for(var t=[],r=0;r<n.length;r+=e){var o=Gn.call(n,r,r+e);t.push(o)}return t}(n,e),function(n){var e=wo("ephox.spelling.service.many.ajax.service.get",hu,{language:r,words:n});return t.execute(e)})).map(function(n){var e,t,r=(e=[],t=[],Sn(n,function(n){n.fold(function(n){e.push(n)},function(n){t.push(n)})}),{errors:e,values:t});if(0<r.values.length){var o=k(Tn(r.values,u),Ao,{});return ao.value(o)}var i=Tn(On(r.errors,function(n){return 1===n.tag}),function(n){return n.error});return 0===i.length?ao.value({}):ao.error(i)});return so.wrap(o)}function Fo(n){var t={};return En(n=void 0===n?{}:n,function(n,e){t[e]=Nt(n)}),t}function Mo(n,e){return In(n,e).getOrThunk(function(){return Nt()})}function Bo(n){return At(n).sort()}function zo(n){var e=n.responseText,t=s(e)?e:{error:{data:null,message:n.message,type:"Unknown"}};return de({status:n.status},t)}function Wo(n,e,t,g){var r;function o(n){var o,i,e=(o=function(n,e){return!(e>=g.maxRetries)&&(n.status<400||500<=n.status)},{execute:function(n){function e(){return t++,i.execute(n).bind(r)}var t=0,r=function(n){return n.fold(function(n){return o(n,t)?e():so.error(n)},so.pure)};return so.wrap(e())},cancelCurrent:(i=n).cancelCurrent});return Gr(g.maxInFlight,e)}void 0===g&&(g=yu),n=pe(r=n,"/")?r.substring(0,r.length-"/".length):r;var m=Fo(t),p=Fo({}),h=o(Yr(n+"/2/check",e,zo)),v=o(Yr(n+"/2/suggestions",e,zo));return{check:function(n,e){var t,r,o,i,u,c,a=Bo(e),f=Dt(),s=Mo(p,n),l=Mo(m,n);return p[n]=s,m[n]=l,t=h,r=l,o=n,i=f,u=g.chunkSize,Ro(function(n,e){return jo(t,d,o,n,u)},s,a,y,i,void 0!==c&&c).mapResult(function(n){var t={};return En(n,function(n,e){n?r.set(e,vu,i):t[e]=!1}),t});function d(n){return n.check}},suggestions:function(n,e){var t,o,r,i,u,c,a,f=Bo(e),s=Dt(),l=Mo(m,n);return m[n]=l,t=v,o=l,r=n,i=f,u=s,c=g.chunkSize,Ro(function(n,e){return jo(t,d,r,n,c)},o,i,y,u,void 0!==a&&a).mapResult(function(e){Sn(i,function(n){oe(e,n)||o.set(n,vu,u)});var r={};return En(e,function(e,t){o.get(u,t).each(function(n){n!==vu&&(r[t]=e)})}),r});function d(n){return n.spell}},cancelCurrent:function(){h.cancelCurrent(),v.cancelCurrent()},dumpCache:function(){return Cn(m,function(n){return n.dump()})}}}function Vo(n){return n.replace(/-/g,"_").toLowerCase()}function qo(n){return In(wu,Vo(n)).getOrThunk(function(){return n.toUpperCase()})}function Uo(n,i){return void 0===i&&(i=!0),k(n,function(n,e){var t=K(e,"=")?e.split("="):[null,e],r=t[0],o=t[1];return n[i?Vo(o):o]=Yn.from(r).getOrThunk(function(){return qo(o)}),n},{})}function Ho(n){return n.getParam("spellchecker_dialog",!1,"boolean")}function Jo(n){return n.getParam("spellchecker_select_languages","en,es,fr,de,pt,zh").split(",")}function Ko(n,t){return Ue(n,"[lang]").map(function(n){var e=Vo(An(n,"data-mce-lang").getOrThunk(function(){return V(n,"lang")}));return f(t)||oe(t,e)||(t[e]=qo(e)),e})}function $o(n){return Yn.from(n.dom.textContent).exists(function(n){var e=n.trim().replace(/[\u200B\uFEFF]/g,"");return ku().test(e)})}function Xo(n,e,t,r,o,i){var u,c=_t(n,e,t,r,i,Eu.anything()).zones;return 1===c.length&&(u=c[0]).lang===o?Yn.some(u):Yn.none()}function Yo(n,e,t,r,o){return Xo(n,e,t,r,o,dr)}function Go(n){return O(n,function(n){return Me(n,fe)})}function Zo(n,d,g){return Yn.from(n[0]).bind(function(n){return t=n,r=d,o=g,((e=_u).property().isBoundary(t)?Yo(e,t,t,r,o):e.property().isEmptyTag(t)?Yn.none():(i=e,u=t,f=rr(c=r,a=o),s=Cr(i,u,u,f),l=Nr(s.left,s.right),s.isEmpty?Cu(i,u,c,a):Xo(i,s.left.item,s.right.item,c,a,l))).bind(function(n){var e=n.words;return 1===e.length?Yn.some(e[0].word):Yn.none()});var e,t,r,o,i,u,c,a,f,s,l})}function Qo(n){var e=n.replace(/\./g,"-");return{resolve:function(n){return Tn(n.split(" "),function(n){return e+"-"+n}).join(" ")}}}function ni(n,e){return Ue(n,"."+e)}function ei(n){return Yn.from(V(n,Du))}function ti(e){return ei(e).fold(vn([e]),function(n){return Ve(nn(e),"."+n)})}function ri(e){var n=Yn.from(V(e,Au)),t=V(e,Nu);return n.fold(vn([e]),function(n){return Lu(nn(e),n,t)})}function oi(n,e){return Yn.from(V(n,e))}function ii(n){Sn(ti(n),function(n){gt(n,Vu)})}function ui(m,n,p,e){return O(Lt(m,n,e),function(n){var r,t,e,o,i,u,c,a,f,s=O(n,function(n){return n.fold(Jt,Jt,function(n){return[n]},Jt)}),l=Tn(s,m.property().getText).join(""),d=(t=l,o=O(p,function(e){return Tn(St(t,e.pattern),function(n){return de(de({},e),n)})}),(e=Array.prototype.slice.call(o,0)).sort(function(n,e){return n.start<e.start?-1:e.start<n.start?1:0}),e),g=(r=m,ot(s,function(n,e){var t=e+r.property().getText(n).length;return Yn.from(Qe(n,e,t))}));return i=m,u=g,a=O(c=d,function(n){return[n.start,n.finish]}),f=it(u,a,function(n,e){return function(r,n,e){var t=r.property().getText(n),o=On(ct(t,e),function(n){return 0<n.length});if(o.length<=1)return[Qe(n,0,t.length)];r.property().setText(n,o[0]);var i=ot(o.slice(1),function(n,e){var t=Qe(r.create().text(n),e,e+n.length);return Yn.some(t)},o[0].length),u=Tn(i,function(n){return n.element});return r.insert().afterAll(n,u),[Qe(n,0,o[0].length)].concat(i)}(i,n.element,e)}),Tn(c,function(n){var e=Tn(ut(f,n.start,n.finish),function(n){return n.element}),t=Tn(e,i.property().getText).join("");return{elements:e,word:n.word,exact:t}})})}function ci(n,e,o){return Tn(N(n),function(n){var t,r;return n.lang===o&&function(n,e,t,r){if(!kn(n,function(n){return qe(n,"a").exists($o)})){var o=Tn(Go(n),function(n){return fe(n)?He(n):""}).join(""),i=Zo(n,t,r);return o===e&&Dn(i,e)}}(n.elements,n.word,e,n.lang)?(r=n,{fold:function(n,e){return e(r)}}):(t=n,{fold:function(n,e){return n(t)}})})}function ai(c,a,n,e){var t,r,o,i,u,f,s,l;t=a,r=Wu,o=ii,i=We,u=c.lang(),f=t.elements,s=r,l={},Sn(f,function(n){ni(n,s.label()).filter(Pe).each(function(i){s.detail(i).each(function(n){var e=n.id,t=n.word,r=n.lang,o=ti(i);0<o.length&&(l[e]={id:e,elements:o,word:t,lang:r})})})}),Sn(ci(l,u,t.lang),function(n){function e(e){return function(n){Sn(n.elements,e)}}n.fold(e(i),e(o))});var d,g,m,p=(m=a.elements,qu(Uu,m,n,e)),h=(d=p,g=Wu.label(),Tn(d,function(n){return t=g,r=O((e=n).elements,function(n){return ni(n,t).fold(vn([]),_)}),{id:xo("mce-cram"),match:e,current:Yn.from(r[0])};var e,t,r}));return O(h,function(u){return u.current.fold(function(){var n=u.match,r=n.word;if(c.ignore(n))return[];var e,t,o=On(n.elements,function(n){return(M(n)?Yn.some(n):tn(n).filter(M)).exists(function(n){return"false"!==n.dom.contentEditable&&!Ue(n,"a").exists($o)})}),i=(e=Wu.nu,Gt(Zt,o,e)||[]);return Sn(i,function(n){var e=n,t=u.id;W(e,Du,t),dt(e,t),Wu.set(n,a.lang,r)}),0<i.length?[(t=i,{fold:function(n,e){return e(t)}})]:[]},function(n){return[(t=n,{fold:function(n,e){return n(t)}})];var t})})}function fi(n){return Ue(n,"."+Wu.label()+":not(."+Wu.ignoreLabel()+")")}function si(n){return e=n,t=Wu.label(),r=Wu.ignoreLabel(),Tn(e.dom.select("."+t+":not(."+r+")"),ne.fromDom);var e,t,r}function li(n){return Wu.detail(n)}function di(n){return n!==Ju}function gi(n){var e=new RegExp(et,"g"),t=new RegExp("[\u2018\u2019]","g");return n.replace(e,"").replace(t,"'")}function mi(n,e){return{suggestions:n,ignore:e}}function pi(n){var e=new Set;return Sn(n,function(n){return e.add(n)}),e}function hi(n,e){return Qt($u,n,e)}function vi(n){return!n.inline&&K(n.getParam("plugins","","string"),"autoresize")}function yi(n){return!n.inline&&!vi(n)}function wi(n){return n.dom.getBoundingClientRect()}function bi(n,e,t,r){var o,i,u,c,a,f=(i=e,u=t,c=r,(a=nn(o=n).dom.createRange()).setStart(o.dom,i),a.setEnd(u.dom,c),a),s=G(n,t)&&e===r;return f.collapsed&&!s}function xi(n,e,t,r){return{startContainer:n,startOffset:e,endContainer:t,endOffset:r,collapsed:G(n,t)&&e===r}}function ki(n){return fe(n)&&0===He(n).length}function Ti(n){return n.filter(function(n){return!n.collapsed}).bind(function(n){return function(n){var e=n.startContainer;if(!G(e,n.endContainer))return Yn.none();if(B("img")(e))return Yn.some(e);var t=Math.min(n.startOffset,n.endOffset),r=Math.max(n.startOffset,n.endOffset),o=an(e,t).filter(B("img"));return r===t||r===t+1?o:Xu&&r===t+2?o.filter(function(n){return un(n).filter(ki).isSome()}):Yn.none()}(n).orThunk(function(){return u=an((i=n).startContainer,i.startOffset).filter(B("img")),un(i.startContainer).filter(B("img")).or(u).bind(function(o){return on(i.endContainer).filter(B("img")).bind(function(n){var e=G(o,n),t=fn(i.startContainer)===i.startOffset,r=0===i.endOffset;return e&&(t||u.isSome())&&r?Yn.some(o):Yn.none()})});var i,u})})}function Si(n){return n.slice(0).sort()}function Oi(n,e){return{ch:n.charAt(e),offset:e}}function Ei(n){return pn(n)&&void 0!==n.index&&0<=n.index?Yn.some(n.index):Yn.none()}function Ci(n,e){return t=e,x(["br","img","hr","input"],n.property().name(t))||n.property().isBoundary(e);var t}function _i(o,i,u){function c(n){return Ci(o,n)}return t=c,l=Qt(e=o,n=i,u),(e.property().isText(n)?Yn.none():(a=l.element,f=(r=e).property().isText,s=t,fr(r,a,f,or,ar.left(),s).map(function(n){return Ze(n,e.property().getText(n).length)}))).orThunk(function(){return t=c,r=Qt(n=o,e=i,u),n.property().isText(e)?Yn.none():yt(n,r.element,n.property().isText,t).map(function(n){return Ze(n,0)});var n,e,t,r}).getOr(Ze(i,u));var e,n,t,r,a,f,s,l}function Ii(n,e){var t=Ze(n,e);return fe(n)?ic.scanRight(uc,n,e).getOr(t):t}function Ai(n){return fe(n)||"br"===R(n)}function Di(n){var e=n.selection.getRng(),t=ne.fromDom(e.startContainer),r=ne.fromDom(e.endContainer);return xi(t,e.startOffset,r,e.endOffset)}function Ni(n,e,t){var r,o,i,u,c,a,f,s,l,d,g;return Ai(t.startContainer)&&Ai(t.endContainer)||Ti(Yn.some(t)).map(function(n){return{image:function(){return n}}}).isSome()?(r=n,o=t,g=e(),r.hasFocus()&&(l=Ii((s=o).startContainer,s.startOffset),d=Ii(s.endContainer,s.endOffset),i=xi(l.element,l.offset,d.element,d.offset),G((u=Di(r)).startContainer,i.startContainer)&&G(u.endContainer,i.endContainer)&&u.startOffset===i.startOffset&&u.endOffset===i.endOffset||(a=i,(f=(c=r).dom.createRng()).setStart(a.startContainer.dom,a.startOffset),f.setEnd(a.endContainer.dom,a.endOffset),c.selection.setRng(f))),g):function(n,e){if(n.hasFocus()){var t=n.selection.getBookmark(),r=e();return n.selection.moveToBookmark(t),r}return e()}(n,e)}function Li(n,e){var t=Di(n),a=t.collapsed||!cc.isIE()||bi(t.endContainer,t.endOffset,t.startContainer,t.startOffset),r=function(n){if(!a||cc.isFirefox()||(t=(e=n).startContainer,r=e.startOffset,i=(0<(o=cn(t)).length&&r<o.length?sn(o[r],0):sn(t,r)).element,ae(i)&&"false"===V(i,"contenteditable")&&G(e.startContainer,e.endContainer)&&e.startOffset===e.endOffset-1))return n;var e,t,r,o,i,u=hi(n.endContainer,n.endOffset),c=hi(n.startContainer,n.startOffset);return xi(c.element,c.offset,u.element,u.offset)}(t);return a?Ni(n,e,r):e()}function Ri(e){var o=[];return{bind:function(n){if(void 0===n)throw new Error("Event bind error: undefined handler");o.push(n)},unbind:function(e){o=On(o,function(n){return n!==e})},trigger:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r={};Sn(e,function(n,e){r[n]=t[e]}),Sn(o,function(n){n(r)})}}}function Pi(n,e,t,r,o){var i,u,c=(i=t,u=r,function(n){function e(){return r.stopPropagation()}function t(){return r.preventDefault()}var r,o;i(n)&&u((r=n,o=a(t,e),{target:ne.fromDom(function(n){if(Ne()&&pn(n.target)){var e=ne.fromDom(n.target);if(ae(e)&&Re(e)&&n.composed&&n.composedPath){var t=n.composedPath();if(t)return A(t)}}return Yn.from(n.target)}(r).getOr(r.target)),x:r.clientX,y:r.clientY,stop:e,prevent:t,kill:o,raw:r}))});return n.dom.addEventListener(e,c,o),{unbind:d(ac,n,e,c,o)}}function ji(c){var e,n,t,r,o,a=(e=!1,{lock:function(){return e?Yn.none():(e=!0,Yn.some(void 0))},unlock:function(){if(!e)throw new Error("Double unlock");e=!1},runIfUnlocked:function(n){e||n()}}),f={registry:Cn(n={lookup:Ri(["element"]),scroll:Ri([]),change:Ri([])},function(n){return{bind:n.bind,unbind:n.unbind}}),trigger:Cn(n,function(n){return n.trigger})},s=(t=function(){a.runIfUnlocked(function(){return f.trigger.scroll()})},o=null,{cancel:i,throttle:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];i(),o=setTimeout(function(){o=null,t.apply(null,n)},r)}});function i(){p(o)||(clearTimeout(o),o=null)}var u,l,d,g,m=(u=function(){a.runIfUnlocked(function(){return f.trigger.change()})},d=l=!(r=1e3),g=function(){l=!0,u(),setTimeout(function(){l=!1,d&&(d=!1,g())},1e3)},function(){l?d=!0:g()});return c.on("keyup",function(n){var e,t;32===(n.which||n.keyCode)&&(e=c.selection.getRng(),t=xi(ne.fromDom(e.startContainer),e.startOffset,ne.fromDom(e.endContainer),e.endOffset),a.runIfUnlocked(function(){return f.trigger.lookup(t.startContainer)}))}),c.on("init",function(){var n,e,t=ne.fromDom(c.getBody()),r=yi(c)?c.getDoc():document,o=c.inline?"ResizeWindow":"ResizeEditor",i=ne.fromDom(r),u=(n="scroll",e=s.throttle,Pi(i,n,fc,e,!1));s.throttle(),c.on(o,s.throttle),c.on("NodeChange",function(n){var e;n.selectionChange||(e=ne.fromDom(n.element),G(t,e)||(a.runIfUnlocked(function(){return f.trigger.lookup(t)}),t=e))}),c.on("SetContent change",m),c.on("remove",function(){u.unbind()})}),{events:f.registry,transact:function(n){a.lock().fold(function(){return console.warn("TinyMCE spellchecker state error")},function(){return n.get(function(){m(),a.unlock()})})}}}function Fi(n){return lt(e=n)&&e.dom.classList.contains(sc);var e}function Mi(n){var e=n;return{get:function(){return e},set:function(n){e=n}}}function Bi(t,r,o){Sn(ee(o),function(n){var e=o[n];c(e)?e||t.add(r,n,Yn.none()):t.add(r,n,Yn.some(e))})}function zi(n){return n.fold(xn,function(n){return!n.ignore})}function Wi(n,e,t){return On(n,function(n){return!e.isWordIgnored(t,n)})}function Vi(u,r,n,o){function i(n){var e=n.zone;Bi(u,e.lang,n.spelling);var t,r,o=ee(n.spelling),i=(t=u,r=e.lang,On(o,function(n){return zi(t.get(r,n))}));return{zone:e,words:On(e.words,function(n){var e=gi(n.word);return x(i,e)})}}return Tn(n,function(n){return t=o,r(Wi(Tn((e=n).words,function(n){return gi(n.word)}),t,e.lang),e.lang).map(function(n){return n.map(function(n){return{spelling:n,zone:e}})}).map(function(n){return n.map(i)});var e,t})}function qi(e,i,n,u){function t(n){Bi(e,n.lang,n.spelling)}var r,o;return bo(Tn(function(n,e){if(0===n.length)return[];for(var t=e(n[0]),r=[],o=[],i=0,u=n.length;i<u;i++){var c=n[i],a=e(c);a!==t&&(r.push(o),o=[]),t=a,o.push(c)}return 0!==o.length&&r.push(o),r}((r=function(n,e){return n.detail.lang<e.detail.lang?-1:e.detail.lang<n.detail.lang?1:0},(o=Gn.call(n,0)).sort(r),o),function(n){return n.detail.lang}),function(n){var e=Tn(n,function(n){return n.detail.word}),t=n[0].detail.lang,r=i,o=Wi(e,u,t);return r.suggestions(o,t).map(function(n){return n.map(function(n){return{spelling:n,lang:t}})})})).map(function(n){return Sn(n,function(n){n.each(t)}),Z(n)})}function Ui(u,s,c){function a(n,e,i){n(function(){Sn(e,function(n){var e,t,r,o;e=n.zone,t=n.words,r={ignore:xn,lang:vn(i)},o=Tn(t,function(n){return n.word}),ai(r,e,On(o,function(n,e){return(-1===(t=b(o,n))?Yn.none():Yn.some(t)).filter(function(n){return n===e}).isSome();var t}),xn)})})}function f(t,r,o,i){var u,c,a,f;0!==t.length?(u=Mi(!1),c=function(){s.cancelCurrent(),u.set(!0)},a=0,f=new Map,Sn(t,function(n,e){n.get(function(n){if(f.set(e,n),r(!1,c),o)for(;f.has(a);)u.get()||i(f.get(a)),a+=1;else u.get()||i(n);u.get()||r(t.length===f.size,c)})}),r(!1,c)):r(!0,hn)}return{local:function(n,e,t,r){a(n,Tn(e.zones,function(n){var e,t;return{zone:n,words:(e=u,t=n.lang,On(n.words,function(n){return zi(e.get(t,n.word))}))}}),t),r(!0,hn)},remote:function(e,n,t,r,o){var i=n.zones;f(Vi(u,s.suggestions,i,c),r,o,function(n){return n.fold(hn,function(n){return a(e,[n],t)})})},check:function(e,n,t,r,o){var i=n.zones;f(Vi(u,s.check,i,c),r,o,function(n){return n.fold(hn,function(n){return a(e,[n],t)})})},fetch:function(n){return qi(u,s,n,c)}}}function Hi(n,u){function c(n,e,t,r,o,i){var g=i?{assess:function(n){return Dr.inView(n)}}:u();e(n,function(n){switch(n.tag){case 0:return s=n.element,Pe(s)?(l=s,d=m.get(),It(Ou,l,d,g)):Rr();case 1:return e=n.start,t=n.sOffset,r=n.finish,o=n.fOffset,Pe(e)&&Pe(r)?(i=e,u=t,c=r,a=o,f=m.get(),function(n,e,t,r,o,i,u){var c,a,f,s,l,d,g,m=Qt(n,e,t),p=Qt(n,r,o);return n.eq(m.element,p.element)?It(n,m.element,i,u):(a=m.element,f=p.element,s=i,l=u,d=Cr(c=n,a,f,xn),g=Nr(d.left,d.right),_t(c,d.left.item,d.right.item,s,g,l))}(Ou,i,u,c,a,f,g)):Rr()}var e,t,r,o,i,u,c,a,f,s,l,d}(t),m.get(),r,o)}var t,r,o,m=Mi(n),a=(r=!(t=[]),o=function(){r=!0,Yn.from(t.shift()).fold(function(){r=!1},function(n){n.f(n.area,o)})},{enqueue:function(n,e){t.push({area:n,f:e}),r||o()},destroy:function(){t=[]}});return{run:function(n,e,t,r,o,i){c(n,e,t,r,o,i)},setLang:m.set,schedule:function(e,r,n,o,i){a.enqueue(n,function(n,t){i()?t():c(e,r,n,function(n,e){i()?(e(),t()):n&&t()},o,!1)})},destroy:function(){a.destroy()}}}function Ji(n){return n.fire("SpellcheckStart")}function Ki(n){return n.fire("SpellcheckEnd")}function $i(o,n,e){function r(n){var e,t,r=(e=On(n,s),(t=At(On(Tn(e,function(n){var e;return null===(e=n.error)||void 0===e?void 0:e.message}),yn))).sort(),0<t.length?(kn(e,function(n){return 0===n.status})?"Unable to communicate with the spelling service":"Error response from the spelling service")+" - "+t.join(", "):"An unexpected error occurred with the spelling service");return console.error(r),o.fire("SpellcheckError",{message:r}),n}function i(n,e){return n?e().map(function(n){return n.mapError(r).toOptional()}):io(Yn.none())}function t(t,e){return In(f,t).getOrThunk(function(){var n,e=(n=t,dc.nu(function(e){a.check(n,["startup"]).get(function(n){e(n.isValue()),n.mapError(r)})}));return f[t]=e}).getSync().fold(function(n){return n.bind(function(n){return i(n,e)})},function(n){return i(n,e)})}var u,c,a=Wo(n,null===(c=(u=o).getParam("spellchecker_api_key")||u.getParam("api_key"))?{}:{"tiny-api-key":c},void 0,e),f={};return{check:function(n,e){return t(e,function(){return a.check(e,n)})},suggestions:function(n,e){return t(e,function(){return a.suggestions(e,n)})},state:function(){return a.dumpCache()},cancelCurrent:a.cancelCurrent}}function Xi(n){function e(n){Sn(o.dom.select("span."+n),function(n){!function(n){var e=n.parentNode,t=n.childNodes;if(e){for(;0<t.length;)e.insertBefore(t[0],n);e.removeChild(n)}}(n)})}function r(){return o.removed||!di(i.spelling().get())}function t(){e("mce-spellchecker-word")}var i=n.gaol,o=n.editor,u=n.language,c=Yn.from(o.getParam("spellchecker_handler")).getOrThunk(function(){return $i(o,n.url,n.serverSettings)}),a=Hi(u,n.viewable.viewport),f=Ui(n.cache,c,n.ignoreList);return n.editor.on("remove",function(){a.destroy()}),{run:function(n,e){var t=i.spelling().get();di(t)&&(a.setLang(t),a.run(n,f.local,e,hn,!1,!1),a.schedule(n,f.remote,e,!1,r))},fetch:f.fetch,check:function(n,e,t,r,o){a.setLang(i.nonOffSpelling()),a.run(n,f.check,e,t,r,o)},refresh:function(){di(i.spelling().get())&&n.asYouType||t()},clear:t,state:c.state}}function Yi(o,n,e,t,r,i,u){function c(n){return Li(o,n)}var a,f={sections:function(){var n=a.getBody();if(!n)return[];var e=l(),t=d(),r=e.innerHeight,o=ne.fromDom(n),i=cn(o);return S(i,function(n){if(ae(n)){var e=t(n);return e.top<r&&0<e.bottom}}).map(function(e){var n=S(i.slice(e+1),function(n){if(ae(n)){var e=t(n);return!(e.top<r&&0<e.bottom)}}).map(function(n){return e+1+n}).getOr(i.length);return i.slice(e,n)}).getOr([o])},viewport:function(){var n=l(),t=n?n.innerHeight:0,r=d();return{assess:function(n){if(!ae(n))return Dr.inView(n);var e=r(n);return(e.bottom<0?Dr.aboveView:e.top>t?Dr.belowView:Dr.inView)(n)}}}},s=Xi({editor:a=o,gaol:t,viewable:f,cache:e,url:n,language:t.spelling().get(),asYouType:r,serverSettings:i,ignoreList:u});function l(){return yi(a)?a.getWin():window}function d(){if(vi(a)){var t=(a.inline?a.getBody():a.getContentAreaContainer()).getBoundingClientRect();return function(n){var e=wi(n);return de(de({},e),{top:e.top+t.top,bottom:e.bottom+t.top})}}return wi}function g(n,e,t,r){var o=(Fi(n)?hi:Ze)(n,e),i=(Fi(t)?hi:Ze)(t,r),u=o.element,c=o.offset,a=i.element,f=i.offset,s=bi(a,f,u,c),l=s?Ze(u,c):Ze(a,f),d=s?Ze(a,f):Ze(u,c);return{tag:1,start:l.element,sOffset:l.offset,finish:d.element,fOffset:d.offset}}function m(n){var e=n[0],t=n[n.length-1];return g(e,0,t,fn(t))}function p(){var n,e=f.sections();0<e.length&&(n=m(e),s.run(c,n))}o.on("init",function(){var n=o.getBody();W(ne.fromDom(n),"spellcheck",!1),s.refresh()}),o.on("remove",function(){var n=o.getBody();q(ne.fromDom(n),"spellcheck"),e.destroy()});var h=s.clear,v=s.fetch,y=r?Yn.some(ji(o)):Yn.none();return y.each(function(n){n.events.lookup.bind(function(n){var e={tag:0,element:n.element};s.run(c,e)}),n.events.scroll.bind(p),n.events.change.bind(p)}),{scanView:p,scanRange:function(n,e,t,r){var o=g(n,e,t,r);s.run(c,o)},checkDocument:function(n,e){var t,r=cn(ne.fromDom(o.getBody()));0<r.length&&(t=m(r),s.check(c,t,n,e,!0))},fetch:v,clear:h,transact:y.fold(function(){return function(n){return n.get(hn)}},function(n){return n.transact})}}function Gi(n){var e,t,r=Vo((e="spelling",t=n,Yn.from(gc.getItem(e)).map(JSON.parse).getOr(t))),o=Mi(r),i=Mi("no.language"===r?"en_us":r),u=o.set,c=o.get;return{spelling:vn({setAndCache:function(n,e){var t;n.settings.spellchecker_language=e,u(e),t=JSON.stringify(e),gc.setItem("spelling",t),di(e)&&i.set(e)},set:u,get:c}),nonOffSpelling:i.get,setNonOffSpelling:i.set}}function Zi(u,c,a){u.undoManager.transact(function(){var t,r,o,i,n=a,e=fi(c).fold(vn([]),ti);r=n,o=O(t=e,cn),i=Go(t),Yn.from(t[0]).bind(function(n){Wn(n,o);var e=Yn.from(i[0]);return e.each(function(n){Je(n,r)}),Sn(i.slice(1),function(n){Je(n,"")}),Sn(t,ze),e}).each(function(n){var e,t="img"===R(e=n)?1:Xe.getOption(e).fold(function(){return cn(e).length},function(n){return n.length});u.selection.setCursorLocation(n.dom,t),u.focus()})})}function Qi(n,e){return fi(n).bind(li).map(function(n){return{detail:n,suggestions:e.suggestions(n.lang,n.word)}})}function nu(n,e,t){n.undoManager.transact(function(){Sn(fi(e).fold(vn([]),ti),function(n){gt(n,Wu.wordLabel()),dt(n,Wu.ignoreLabel())})}),n.fire("SpellcheckerIgnore",{word:t})}function eu(n,e,t,r,o){o.ignore(r,t),Sn(fi(e).fold(vn([]),ri),We),n.fire("SpellcheckerIgnoreAll",{word:t,language:r})}function tu(n,e,t,r,o){var i,u,c,a=(u=o,c=n,0===(i=r.getOr([])).length?[u.getNoSuggestionsMenuItem()]:4<i.length?u.getSubstituteItemsOverMax(c,i,4):u.getSubstituteItems(c,i)),f=[o.getSeparator(),o.getIgnoreItem(n,t),o.getIgnoreAllItem(n,t,e)];return a.concat(f)}function ru(n){return A(si(n)).bind(li)}function ou(n){return Z(Tn(n,li))}function iu(n,e,t){var r=n.length>(t=void 0===t?100:t)?t:n.length,o=Z(Tn(n.slice(0,r),function(n){return Qi(n,e)})),i={};return Sn(o,function(n){i[n.detail.word+"("+n.detail.lang+")"]=n}),N(i)}function uu(u,c,i,a,f){function s(n){var e=di(n);(e?i.scanView:i.clear)(),(e?Ji:Ki)(u)}function n(n,e){i.checkDocument(n,e)}var l=function(e,n,t,r){function o(){r<3?l(e,n,t,r+1):n()}i.fetch(e).get(function(n){0<n.length?Qi(e[0].detail.element,a).bind(function(n){return n.suggestions}).fold(o,t):o()})};return{changeLanguage:function(n,e){void 0===e&&(e=!0);var t,r=Vo(n),o=c.nonOffSpelling(),i=di(c.spelling().get());e||i?(c.spelling().setAndCache(u,r),f&&s(r)):c.setNonOffSpelling(r),di(t=r)&&t!==o&&u.fire("SpellcheckerLanguageChanged",{language:t,prevLanguage:o})},getLanguage:function(){var n=c.spelling().get();return di(n)?n:c.nonOffSpelling()},toggleLanguage:function(){var n=di(c.spelling().get())?Ku():c.nonOffSpelling();c.spelling().setAndCache(u,n),s(n)},getWordsAsync:function(e){n(function(n){n&&e()},!1)},getWordsAsyncWithProgress:n,getWordsSuggestionsAsync:l}}function cu(n,e,t){e.clear(),t&&!n.removed&&e.scanView()}function au(u,r){function o(r,n){return Tn(n,function(n){return e=r,{text:t=n,onclick:function(){Zi(u,e,t)}};var e,t})}var c={getSubstituteItemsOverMax:function(n,e,t){var r=e.slice(0,t);return o(n,r)},getSubstituteItems:o,getSeparator:function(){return{text:"-"}},getIgnoreItem:function(n,e){return{text:"Ignore",onclick:function(){nu(u,n,e)}}},getIgnoreAllItem:function(n,e,t){return{text:"Ignore all",onclick:function(){eu(u,n,e,t,r)}}},getNoSuggestionsMenuItem:function(){return{text:"No suggestions",disabled:!0,onclick:hn}}};u.on("contextmenu",function(n){var e,t=ne.fromDom(n.target),i=Qi(e=t,r).map(function(n){return tu(e,n.detail.lang,n.detail.word,n.suggestions,c)}).getOr([]);0<i.length&&(n.preventDefault(),n.stopImmediatePropagation(),function(n){var e=tinymce.ui.Factory.create("menu",{items:i,context:"contextmenu",onautohide:function(n){-1!==n.target.className.indexOf("spellchecker")&&n.preventDefault()},onhide:function(){e.remove()}});e.renderTo(document.body);var t=tinymce.dom.DOMUtils.DOM.getPos(u.getContentAreaContainer()),r=u.dom.getPos(n.dom),o=u.dom.getRoot();"BODY"===o.nodeName?(r.x-=o.ownerDocument.documentElement.scrollLeft||o.scrollLeft,r.y-=o.ownerDocument.documentElement.scrollTop||o.scrollTop):(r.x-=o.scrollLeft,r.y-=o.scrollTop),t.x+=r.x,t.y+=r.y,e.moveTo(t.x,t.y+n.dom.offsetHeight)}(t))},!0)}function fu(){var n,e,t=(n=hn,e=Mi(Yn.none()),{clear:function(){r(),e.set(Yn.none())},isSet:function(){return e.get().isSome()},get:function(){return e.get()},set:function(n){r(),e.set(Yn.some(n))}});function r(){return e.get().each(n)}return de(de({},t),{on:function(n){return t.get().each(n)}})}function su(n,e){(n.hasNext()?e.enable:e.disable)("next"),(n.hasPrevious()?e.enable:e.disable)("previous")}function lu(t,n,r,e){return{title:"Spellcheck",body:{type:"panel",items:[{type:"label",label:"Misspelled word",items:[{type:"bar",items:[{type:"input",name:"textlabel",maximized:!0},{type:"bar",items:[{type:"button",name:"previous",text:"Previous",icon:"action-prev",borderless:!0,disabled:!t.hasPrevious()},{type:"button",name:"next",text:"Next",icon:"action-next",borderless:!0,disabled:!t.hasNext()}]}]}]},{type:"selectbox",name:"suggestions",label:"Suggestions",size:6,disabled:0===n.length,items:0<n.length?n:vc}]},initialData:{textlabel:r,suggestions:0<e.length?e[0]:""},onClose:t.onClose,onChange:function(n,e){"textlabel"===e.name&&(n.getData().textlabel===r?n.disable("accept"):n.enable("accept"))},onAction:function(n,e){switch(e.name){case"accept":t.replace(n,r);break;case"ignore":t.ignore(n);break;case"ignoreall":t.ignoreAll(n);break;case"next":t.next(n);break;case"previous":t.previous(n)}su(t,n),n.focus("textlabel")},buttons:[{type:"custom",primary:!0,name:"accept",text:"Accept",disabled:0===n.length},{type:"custom",name:"ignore",text:"Ignore"},{type:"custom",name:"ignoreall",text:"Ignore all"}]}}function du(n,e,t){return lu(n,Tn(e,function(n){return{text:n,value:n}}),t.word,e)}function gu(s,c,r,n,l){function e(n){return Qi(n.element,c)}function d(){return p.getCurrent().bind(e)}function g(n,e,t){function r(){n.focus("textlabel")}void 0===t&&(t=0),n.redial(e),0<t?setTimeout(r,t):r()}var a,o=mn(tinymce,"5.6.0")?{}:{inline:"toolbar"},m=Ie().browser.isIE()?250:0,p=(a={words:[],index:-1,current:Yn.none()},{getNextWord:function(n,e){var t=a.words;if(t.length<=1)return Yn.none();var r=a.index,o=t[r],i=C(t.slice(0,r)),u=t.slice(r+1),c=0===n?u.concat(i):i.concat(u);return e?T(c,function(n){return n.word!==o.word||n.lang!==o.lang}):A(c)},hasNext:function(){return 1<a.words.length&&a.index<a.words.length-1},hasPrevious:function(){return 1<a.words.length&&0<a.index},getCurrent:function(){return a.current},setCurrent:t,refreshCurrent:function(e){a.current.each(function(n){return t(e,n.id)})},clear:i}),h=Mi(!0),f=fu(),v=fu(),y={replace:function(n,e){var t=n.getData(),r=t.textlabel!==e?t.textlabel:t.suggestions;x(n,function(n){return Zi(s,n.detail.element,r)},0)},ignore:function(n){x(n,function(n){return nu(s,n.detail.element,n.detail.word)},0)},ignoreAll:function(n){x(n,function(n){return eu(s,n.detail.element,n.detail.word,n.detail.lang,c)},0,!0)},onClose:function(){f.on(bn),f.clear(),v.clear(),h.set(!0),cu(s,r,n),p.clear()},next:function(n){x(n,hn,0)},previous:function(n){x(n,hn,1)},hasNext:p.hasNext,hasPrevious:p.hasPrevious},w=Mi(hn),b=Mi(!1),x=function(e,t,n,r){var o,i,u,c,a,f=(o=n,i=r=void 0!==r&&r,p.getCurrent().fold(function(){return ru(s)},function(){return p.getNextWord(o,i)}).map(function(n){return n.id}));d().each(t),u=f,c=mc(s),a=ou(c),u.bind(function(n){return p.setCurrent(a,n),d()}).fold(function(){var n;b.get()?(e.block("Finding word suggestions"),w.set(function(){e.unblock(),x(e,t,0,r)})):(n=s.translate("No misspellings found."),s.notificationManager.open({text:n,type:"info",timeout:3e3}),e.close())},function(n){var t,r;t=n,r=e,h.get()||(s.selection.scrollIntoView(t.detail.element.dom),t.suggestions.fold(function(){var e,n=oo(function(e){l.getWordsSuggestionsAsync([t],function(){return e(Yn.none())},function(n){return e(Yn.some(n))},0)}).map(function(n){return n.map(function(n){return du(y,n,t.detail)})});(e=r).block("Finding word suggestions"),n.get(function(n){e.unblock(),n.fold(function(){console.log("TinyMCE spellchecker fetch error")},function(n){g(e,n)})})},function(n){var e=du(y,n,t.detail);g(r,e,m)}))})};function t(r,n){var e=n;S(r,function(n){return n.id===e}).fold(i,function(n){var e=r,t=n;a.words=e,a.index=t,a.current=I(e,t)})}function i(){a.words=[],a.index=-1,a.current=Yn.none()}return{open:function(){v.isSet()||r.transact(oo(function(n){r.clear(),h.set(!1),b.set(!0);var e=lu(y,[],"",[]),t=s.windowManager.open(e,o);v.set(t),x(t,hn,0),n()}).bind(function(){return oo(function(n){return setTimeout(n)})}).bind(function(){return oo(function(u){l.getWordsAsyncWithProgress(function(n,e){b.set(!n),f.set(function(){n||e(),u()});var t=mc(s),r=ou(t);p.refreshCurrent(r),v.on(function(n){return su(y,n)});var o=On(iu(t,c),function(n){return n.suggestions.isNone()});0<o.length&&l.getWordsSuggestionsAsync(o,hn,hn,0);var i=ru(s);(n||i.isSome())&&(w.get()(),w.set(hn))},!0)})}))},close:function(){return v.on(function(n){p.clear(),n.close()})}}}nt([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var mu,pu=vn(Do),hu=(mu=[Po("language"),Po("words")],{extract:function(i,u){for(var c={},a=[],n=0,e=mu;n<e.length;n++)ho(e[n],function(n,e,t,r){var o=yo(t,i,u,n,r);_o(o,function(n){a.push.apply(a,n)},function(n){c[e]=n})},function(n,e){c[n]=e(u)});return 0<a.length?Oo(a):So(c)},toString:function(){return"obj{\n"+Tn(mu,function(n){return ho(n,function(n,e,t,r){return n+" -> "+r.toString()},function(n,e){return"state("+n+")"})}).join("\n")+"}"}}),vu=xo("good-spelling"),yu={chunkSize:1500,maxRetries:3,maxInFlight:8},wu={af:"Afrikaans",af_za:"Afrikaans (South Africa)",ar:"Arabic",ca:"Catalan",cs:"Czech",da:"Danish",de:"German",el:"Greek",en:"English",en_au:"English (Australia)",en_br:"English (United Kingdom)",en_ca:"English (Canada)",en_gb:"English (United Kingdom)",en_gb_medical:"Medical English (UK)",en_uk:"English (United Kingdom)",en_us:"English (United States)",en_us_medical:"Medical English (US)",es:"Spanish",es_419:"Spanish (Latin America)",es_es:"Spanish (Spain)",fa:"Farsi",fi:"Finnish",fr:"French",fr_ca:"French (Canada)",he:"Hebrew",hr:"Croatian",hu:"Hungarian",it:"Italian",ja:"Japanese",kk:"Kazakh",ko:"Korean",mi_nz:"Maori (New Zealand)",nb:"Norwegian Bokm\xe5l",nl:"Dutch",nn:"Norwegian Nynorsk",no:"Norwegian",pl:"Polish",pt:"Portuguese",pt_br:"Portuguese (Brazil)",pt_pt:"Portuguese (Portugal)",ro:"Romanian",ru:"Russian",sk:"Slovak",sl:"Slovenian",sv:"Swedish",sv_fi:"Swedish (Finland)",th:"Thai",tr:"Turkish",tt:"Tatar",uk:"Ukrainian",zh:"Chinese",zh_cn:"Chinese (Simplified)",zh_tw:"Chinese (Traditional)"},bu=["en_us","en_gb","da","nl","fi","fr","de","it","nb","pt","pt_pt","es","sv"],xu=[{value:"no.language",text:"Off"}],ku=U(function(){return new RegExp("^"+/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-+~=.,%()\/\w]*[-+~=%()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g.source+"$")}),Tu=Ge(),Su=Tu.property(),Ou=de(de({},Tu),{property:vn(de(de({},Su),{getLanguage:Ko}))}),Eu={anything:vn({assess:Dr.inView})},Cu=function(n,e,t,r){var o=(n.property().isText(e)?n.property().getText(e):n.property().children(e)).length,i=Qt(n,e,0),u=Qt(n,e,o);return Yo(n,i.element,u.element,t,r)},_u=Ge(),Iu=Qo("data.mce").resolve,Au=Iu("annotation"),Du=Iu("highlight-id"),Nu=Iu("lingo"),Lu=function(n,t,r){return On(Ve(n,"span["+Au+"]"),function(n){var e=!pn(r)||V(n,Nu)===r;return V(n,Au)===t&&e})},Ru=vn(Au),Pu=Qo("mce").resolve,ju=Iu("lingo"),Fu=Pu("spellchecker-annotation"),Mu=Pu("spellchecker-word"),Bu=Pu("spellchecker-ignore"),zu=Pu("spellchecker-current"),Wu={nu:function(){var e,t,n=ne.fromTag("span"),r=n;return Sn([Fu,Mu],function(n){dt(r,n)}),W(n,"aria-invalid","spelling"),e=Zt,{element:t=n,wrap:function(n){e.insert().append(t,n)}}},set:function(n,e,t){W(n,"data-mce-bogus",1),W(n,Ru(),t),W(n,ju,e)},setCurrent:function(n){dt(n,zu)},unSetCurrent:function(n){gt(n,zu)},label:vn(Fu),wordLabel:vn(Mu),ignoreLabel:vn(Bu),currentLabel:vn(zu),detail:function(r){return ei(r).bind(function(t){return oi(r,Ru()).bind(function(e){return oi(r,ju).map(function(n){return{id:t,word:e,lang:n,element:r}})})})}},Vu=Pu("wrap-disabled"),qu=function(n,e,t,r){return ui(n,e,Tn(t,function(n){return{word:n,pattern:(e=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Tt("((?:^'?)|(?:"+gr()+"+'?))"+e+"((?:'?$)|(?:'?"+gr()+"+))",function(n){return 1<n.length?n[1].length:0},function(n){return 2<n.length?n[2].length:0},Yn.none()))};var e}),r)},Uu=Ge(),Hu=Wu.label,Ju="no.language",Ku=vn(Ju),$u=Ge(),Xu=Ie().browser.isFirefox(),Yu=wt().left(),Gu=wt().right(),Zu=nt([{abort:[]},{kontinue:[]},{finish:["info"]}]),Qu=nt([{aborted:[]},{edge:["element"]},{success:["info"]}]),nc=function(t,n,r,e,o,i,u){function c(){return u.fold(Qu.aborted,Qu.edge)}function a(e){return lr(t,n,r,i).fold(c,function(n){return nc(t,n.item,n.mode,Yn.none(),o,i,e)})}if(Ci(t,n))return c();if(t.property().isText(n)){var f=t.property().getText(n);return o(t,Zu,n,f,e).fold(c,function(){return a(Yn.some(n))},Qu.success)}return a(u)},ec=function(n,o,i){if(0===o.length)throw new Error("You must specify at least one required field.");var t;return function(e,n){if(!wn(n))throw new Error("The "+e+" fields must be an array. Was: "+n+".");Sn(n,function(n){if(!yn(n))throw new Error("The value "+n+" in the "+e+" fields was not a string.")})}("required",o),T(t=Si(o),function(n,e){return e<t.length-1&&n===t[e+1]}).each(function(n){throw new Error("The field: "+n+" occurs more than once in the combined fields: ["+t.join(", ")+"].")}),function(e){var t=ee(e);E(o,function(n){return x(t,n)})||function(n){throw new Error("All required keys ("+Si(o).join(", ")+") were not specified. Specified keys were: "+Si(n).join(", ")+".")}(t),n(o,t);var r=On(o,function(n){return!i.validate(e[n],n)});return 0<r.length&&function(n){throw new Error("All values need to be of type: "+n+". Keys ("+Si(r).join(", ")+") were not.")}(i.label),e}}(function(e,n){var t=On(n,function(n){return!x(e,n)});0<t.length&&function(){throw new Error("Unsupported keys for object: "+Si(t).join(", "))}()},["regex","attempt"],{validate:h,label:"function"}),tc=function(n,e,t,r){var o=_i(n,e,t);return nc(n,o.element,or,Yn.some(o.offset),r,Yu,Yn.none())},rc=function(n,e,t,r){var o=_i(n,e,t);return nc(n,o.element,or,Yn.some(o.offset),r,Gu,Yn.none())},oc=function(e,n,t){var r=xn;if(!e.property().isText(n))return Yn.none();var o=e.property().getText(n);return t<=o.length?Yn.some(Ze(n,t)):sr(e,n,e.property().isText,r).bind(function(n){return oc(e,n,t-o.length)})},ic={previousChar:function(n,e){for(var t=e.getOr(n.length)-1;0<=t;t--)if(n.charAt(t)!==et)return Yn.some(Oi(n,t));return Yn.none()},nextChar:function(n,e){for(var t=e.getOr(0)+1;t<n.length;t++)if(n.charAt(t)!==et)return Yn.some(Oi(n,t));return Yn.none()},repeatLeft:tc,repeatRight:rc,expandLeft:function(n,e,t,r){var u=ec(r);return tc(n,e,t,function(n,e,t,r,o){var i=o.getOr(r.length);return function(n,e){e.lastIndex=-1;var t=C(n).join("");return Ei(t.match(e)).map(function(n){return t.length-1-n})}(r.substring(0,i),u.regex()).fold(function(){return e.kontinue()},function(n){return u.attempt(e,t,r,n)})})},expandRight:function(n,e,t,r){var a=ec(r);return rc(n,e,t,function(n,e,t,r,o){var i,u=o.getOr(0),c=r.substring(u);return(i=a.regex()).lastIndex=-1,Ei(c.match(i)).fold(function(){return e.kontinue()},function(n){return a.attempt(e,t,r,u+n)})})},scanRight:oc},uc=Ge(),cc=Ie().browser,ac=function(n,e,t,r){n.dom.removeEventListener(e,t,r)},fc=m,sc=Hu(),lc=function(n){function r(n){i()?u(n):o.push(n)}var t=Yn.none(),o=[],i=function(){return t.isSome()},u=function(e){t.each(function(n){e(n)})};return n(function(n){var e;i()||(t=Yn.some(n),e=o,setTimeout(function(){return Sn(e,u)},0),o=[])}),{get:r,getSync:function(){return t.fold(function(){return ao.error(oo(r))},ao.value)},map:function(t){return lc(function(e){r(function(n){e(t(n))})})},isReady:i}},dc={nu:lc,pure:function(e){return lc(function(n){n(e)})}},gc=function(){try{var n=ie.localStorage,e="__storage_test__";return n.setItem(e,e),n.removeItem(e),Yn.some(n)}catch(n){return Yn.none()}}().fold(function(){var t={};return{getItem:function(n){return t[n]},setItem:function(n,e){t[n]=e}}},function(t){return{getItem:function(n){return t.getItem("mce."+n)},setItem:function(n,e){t.setItem("mce."+n,e)}}}),mc=si,pc="SpellcheckStart SpellcheckEnd",hc="SpellcheckStart SpellcheckEnd",vc=[{text:"No suggestions found",value:"No suggestions found"}];tinymce.PluginManager.requireLangPack("tinymcespellchecker","ar,bg_BG,ca,cs,da,de,el,es,eu,fa,fi,fr_FR,he_IL,hr,hu_HU,id,it,ja,kk,ko_KR,nb_NO,nl,pl,pt_BR,pt_PT,ro,ru,sk,sl_SI,sv_SE,th_TH,tr,uk,zh_CN,zh_TW"),tinymce.PluginManager.add("tinymcespellchecker",function(n,e){if(mn(tinymce,"4.2.8"))return console.error('The "tinymcespellchecker" plugin requires at least version 4.2.8 of TinyMCE.'),{};var t,r,o=n.getParam("spellchecker_language","en_us","string"),i=n.getParam("spellchecker_rpc_url","","string"),u=(r={},En(t=void 0===t?{}:t,function(n,t){En(n,function(n,e){!0===n.ignore&&d(t,e),void 0!==n.suggestions&&l(t,e,Yn.some(n.suggestions))})}),{add:l,get:function(n,e){return s(n,function(n){return In(n,gi(e))})},ignore:d,ignoreAll:function(t){En(r,function(n,e){d(e,t)})},suggestions:function(n,e){return s(n,function(n){return In(n,gi(e)).bind(function(n){return n.ignore?Yn.none():n.suggestions})})},state:function(){return Cn(r,function(n,e){return Cn(n,function(n){return{ignore:n.ignore,suggestions:n.suggestions.getOr([])}})})},destroy:function(){r={}}}),c=Gi(o);function a(n){return In(r,n).getOr({})}function f(n,e){var t=a(n);e(t),r[n]=t}function s(n,e){return e(a(n))}function l(n,t,r){f(n,function(n){var e=gi(t);In(n,e).forall(function(n){return n.suggestions.isNone()})&&(n[e]=mi(r,!1))})}function d(n,r){f(n,function(n){var e=gi(r),t=mi(In(n,e).bind(function(n){return n.suggestions}),!0);n[e]=t})}n.getParam("spellchecker_active",!0,"boolean")||"no.language"===c.spelling().get()||c.spelling().set("no.language");var g,m,p,h,v,y,w,b,x,k,T,S,O,E,C,_,I,A,D,N,L,R,P,j,F,M,B,z,W,V,q=function(n){var e=!Ho(n),t=n.getParam("spellchecker_languages",bu),r={};yn(t)?r=Uo(t.split(",")):function(n,e){if(wn(n)){for(var t=0,r=n.length;t<r;++t)if(!e(n[t]))return;return 1}}(t,yn)&&(r=Uo(t));var o=_n(r,function(n,e){return{text:n,value:e}});return e?xu.concat(o):o}(n),U=!Ho(n),H={chunkSize:(g=n).getParam("spellchecker_service_chunk_size",yu.chunkSize,"number"),maxRetries:g.getParam("spellchecker_service_max_retries",yu.maxRetries,"number"),maxInFlight:g.getParam("spellchecker_service_max_in_flight",yu.maxInFlight,"number")},J=(p=(m=n).getParam("spellchecker_whitelist",[],"array"),h=m.getParam("spellchecker_ignore_list",p),v=new Set,y={},wn(h)?Sn(h,function(n){return v.add(n)}):En(h,function(n,e){var t=Vo(e);y[t]=pi(n)}),{isWordIgnored:function(n,e){return!!v.has(e)||In(y,n).fold(xn,function(n){return n.has(e)})},addToLang:function(n,e){In(y,n).fold(function(){return y[n]=pi([e])},function(n){return n.add(e)})},addToGlobal:function(n){v.add(n)}}),K=Yi(n,i,u,c,U,H,J),$=uu(n,c,K,u,U),X=mn(tinymce,"5.0.0");function Y(n){return{type:"togglemenuitem",text:n.text,onAction:function(){return x.changeLanguage(n.value)},active:n.value===b.spelling().get()}}function G(n,e){return{text:e,onAction:function(){Zi(D,n,e)}}}function Z(n){var e=P.spelling().get();Sn(n.control.items(),function(n){n.active(n.data.data===e)})}X?(au(n,u),R=n,P=c,j=$,F=U,M=Tn(q,function(n){return{selectable:!0,text:n.text,data:n.value,onclick:function(){j.changeLanguage(n.value)}}}),z=de(de({},B={icon:"spellchecker",type:"button",tooltip:"Spellcheck...",onclick:function(){R.execCommand("mceSpellcheckDocument")}}),{type:"splitbutton",menu:M,onshow:Z}),W={type:"splitbutton",tooltip:"Spellcheck",menu:M,onclick:j.toggleLanguage,onPostRender:function(n){function e(){n.control.active(di(P.spelling().get()))}e(),R.on(pc,e)},onshow:Z},V={text:"Spellcheck...",context:"tools",onclick:function(){R.execCommand("mceSpellcheckDocument")}},F?(R.addButton("spellchecker",W),R.addMenuItem("spellchecker",{text:"Spellcheck",context:"tools",onclick:j.toggleLanguage,onPostRender:function(n){function e(){return n.control.active(di(P.spelling().get()))}e(),R.on(pc,e)},selectable:!0}),R.addButton("spellcheckdialog",B),R.addMenuItem("spellcheckdialog",V)):(R.addButton("spellchecker",z),R.addMenuItem("spellchecker",V)),R.addMenuItem("spellcheckerlanguage",{text:"Spellcheck Language",context:"tools",menu:M,onPostRender:function(n){n.control.on("show",function(n){Z(n)})}})):(N=u,L={getSubstituteItemsOverMax:function(e,n,t){var r=n.slice(0,t),o=n.slice(t),i=Tn(r,function(n){return G(e,n)}),u={type:"submenu",text:"More...",getSubmenuItems:vn(Tn(o,function(n){return G(e,n)}))};return i.concat([u])},getSubstituteItems:function(e,n){return Tn(n,function(n){return G(e,n)})},getSeparator:function(){return{type:"separator"}},getIgnoreItem:function(n,e){return{text:"Ignore",onAction:function(){nu(D,n,e)}}},getIgnoreAllItem:function(n,e,t){return{text:"Ignore all",onAction:function(){eu(D,n,e,t,N)}}},getNoSuggestionsMenuItem:function(){return{text:"No suggestions",disabled:!0,onAction:hn}}},(D=n).ui.registry.addContextMenu("spellchecker",{update:function(n){var e,t=ne.fromDom(n);return Qi(e=t,N).map(function(n){return tu(e,n.detail.lang,n.detail.word,n.suggestions,L)}).getOr([])}}),w=n,b=c,x=$,k=U,E=Tn(q,function(n){return de(de({},n),{type:"choiceitem"})}),C={tooltip:"Spellcheck...",icon:"spell-check",onAction:function(){w.execCommand("mceSpellcheckDocument")}},_={tooltip:"Spellcheck...",icon:"spell-check",onAction:function(){w.execCommand("mceSpellcheckDocument")},select:function(n){return n===b.spelling().get()},fetch:function(n){n(E)},onItemAction:function(n,e){x.changeLanguage(e)}},I={tooltip:"Spellcheck",icon:"spell-check",onAction:x.toggleLanguage,onSetup:function(n){function e(){n.setActive(di(b.spelling().get()))}return e(),w.on(hc,e),function(){return w.off(hc,e)}},select:function(n){return n===b.spelling().get()},fetch:function(n){n(E)},onItemAction:function(n,e){x.changeLanguage(e)}},A={text:"Spellcheck...",icon:"spell-check",onAction:function(){w.execCommand("mceSpellcheckDocument")}},k?(w.ui.registry.addSplitButton("spellchecker",I),w.ui.registry.addToggleMenuItem("spellchecker",{text:"Spellcheck",icon:"spell-check",onAction:x.toggleLanguage,onSetup:function(n){function e(){return n.setActive(di(b.spelling().get()))}return e(),w.on(hc,e),function(){return w.off(hc,e)}}}),w.ui.registry.addButton("spellcheckdialog",C),w.ui.registry.addMenuItem("spellcheckdialog",A)):(w.ui.registry.addSplitButton("spellchecker",_),w.ui.registry.addMenuItem("spellchecker",A)),w.ui.registry.addNestedMenuItem("spellcheckerlanguage",{text:"Spellcheck Language",getSubmenuItems:function(){return Tn(E,Y)}}),(O=tinymce)&&1===dn(gn(O),ln("5.0.3"))&&mn(tinymce,"5.9.0")&&(T=Jo(w),S=Uo(T,!1),w.ui.registry.addMenuButton("language",{tooltip:"Language",icon:"translate",fetch:function(n){var e=Ko(ne.fromDom(w.selection.getNode()),S);n(_n(S,function(n,t){return{type:"togglemenuitem",value:t,text:n,onSetup:function(n){return Dn(e,t)&&n.setActive(!0),hn},onAction:function(){var n,e=t;mn((n=w).editorManager,"5.9.0")&&(n.formatter.has("powerspell_language_select")||n.formatter.register("powerspell_language_select",{inline:"span",attributes:{lang:"%value"}}),n.undoManager.transact(function(){n.focus(),n.formatter.toggle("powerspell_language_select",{value:e}),n.nodeChanged()}))}}}))},onSetup:function(e){function n(n){e.setActive(kn(n.parents,function(n){var e=ne.fromDom(n);return ae(e)&&An(e,"lang").exists(function(n){return""!==n})}))}return w.on("NodeChange",n),function(){w.off("NodeChange",n)}}})));var Q,nn,en,tn,rn,on,un,cn=(X?function(c,r,n,e,o){function i(){var n=c.translate("No misspellings found.");c.notificationManager.open({text:n,type:"info",timeout:3e3})}function u(o,i){h.on(function(n){n.find("#text")[0].value(o);var e=n.find("#accept")[0],t=n.find("#suggestions")[0],r=0===i.length;t.getEl().disabled=r,e.disabled(r),t.options(r?["No suggestions found"]:i),t.getEl().selectedIndex=0,t.getEl().focus()})}function a(n){var e=n.find("#text")[0],t=n.find("#accept")[0],r=n.find("#ignore")[0],o=n.find("#ignoreall")[0];e.disabled(!1),t.disabled(!1),r.disabled(!1),o.disabled(!1)}function f(n){h.on(function(n){var e,t=(e=n).find("#text")[0],r=e.find("#suggestions")[0],o=e.find("#accept")[0],i=e.find("#ignore")[0],u=e.find("#ignoreall")[0];t.value("Finding word suggestions"),t.disabled(!0),r.options([]),o.disabled(!0),i.disabled(!0),u.disabled(!0)});var t=On(iu(n,r),function(n){return n.suggestions.isNone()});o.getWordsSuggestionsAsync(t,function(){h.on(function(n){a(n)})},function(n){h.on(function(n){a(n)});var e=t[0].detail;c.selection.scrollIntoView(e.element.dom),u(e.word,n)},0)}function s(n){var e=iu(n,r);0<On(e,function(n){return n.suggestions.isNone()}).length&&o.getWordsSuggestionsAsync(e,hn,hn,0)}function l(n){var t,e=mc(c);0<e.length?Qi((t=e)[0],r).each(function(e){e.suggestions.fold(function(){f(t)},function(n){c.selection.scrollIntoView(e.detail.element.dom),u(e.detail.word,n),s(t)})}):(i(),n.close())}function t(n){h.on(function(u){ru(c).each(function(n){var e=u.find("#text")[0],t=u.find("#suggestions")[0],r=e.value(),o=t.getEl().value,i=r===n.word?o:r;Zi(c,n.element,i),l(u)})})}function d(){h.on(function(n){n.close()})}function g(n,e,t){return Math.min(Math.max(n,e),t)}function m(n){var e,t,r,o=c.getBody(),i=c.inline?c.getBody():c.getContentAreaContainer(),u=(e="BODY"===(e=o).nodeName?e.parentNode:e).scrollHeight>e.clientHeight?-25:-10;n.moveRel(i,"tr-tr"),n.moveBy(u,10),r=(t=n).layoutRect(),t.moveTo(g(r.x,0,window.innerWidth-r.w),g(r.y,10,window.innerHeight-r.h-10))}function p(n,e){var t,r,o={layout:"flex",align:"stretch",direction:"column",title:"Spellcheck",spacing:10,padding:10,callbacks:t=y,minWidth:350,items:[{type:"label",name:"textlabel",text:"Misspelled word"},{type:"textbox",name:"text",ariaLabel:"Misspelled word",spellcheck:!1,value:r=n,oninput:function(n){var e=n.control.rootControl,t=e.find("#text")[0].value();e.find("#accept")[0].disabled(t===r)}},{type:"label",name:"suggestionslabel",text:"Suggestions"},{type:"container",layout:"flex",direction:"row",align:"stretch",spacing:10,items:[{type:"selectbox",name:"suggestions",ariaLabel:"Suggestion",minWidth:150,flex:1,size:6,border:1,options:e},{type:"container",layout:"flex",flex:1,spacing:5,direction:"column",pack:"center",align:"stretch",items:[{type:"button",subtype:"primary",name:"accept",text:"Accept",onclick:"accept"},{type:"button",name:"ignore",text:"Ignore",onclick:"ignore"},{type:"button",name:"ignoreall",text:"Ignore all",onclick:"ignoreall"}]}]}],onsubmit:function(n){n.preventDefault(),t.replace()},onclose:function(n){t.onClose()},buttons:[]},i=tinymce.ui.Factory.create("window",o);return h.set(i),i.modal=!1,i.on("open",function(){return h.on(m)}),c.on("remove",d),i.renderTo().reflow(),i.moveTo(0,0),i}var h=fu(),v=fu(),y={accept:t,submit:t,ignore:function(n){h.on(function(n){ru(c).each(function(n){nu(c,n.element,n.word)}),l(n)})},ignoreall:function(n){h.on(function(n){ru(c).each(function(n){eu(c,n.element,n.word,n.lang,r)}),l(n)})},close:d,onClose:function(){cu(c,n,e),h.clear(),v.on(bn)}},w={open:function(){return n.transact(oo(function(e){h.isSet()||(n.clear(),o.getWordsAsync(function(){var t,n=mc(c);0<n.length?(v.set(e),Qi((t=n)[0],r).each(function(e){e.suggestions.fold(function(){p(e.detail.word,[]),f(t)},function(n){p(e.detail.word,n),u(e.detail.word,n),s(t)})})):(e(),i())}))}))},close:d};return c.on("ResizeWindow",function(){tinymce.util.Delay.requestAnimationFrame(function(){h.on(m)})}),w}:gu)(n,u,K,U,$),an=$,fn=c,sn=U;return(Q=n).addCommand("mceSpellcheckEnable",function(){sn?an.changeLanguage(fn.nonOffSpelling()):cn.open()}),Q.addCommand("mceSpellcheckDisable",function(){sn&&an.changeLanguage(Ku()),cn.close()}),Q.addCommand("mceSpellcheckDialog",cn.open),Q.addCommand("mceSpellcheckDialogClose",cn.close),Q.addCommand("mceSpellcheckDocument",cn.open),oe((nn=n).settings,"content_langs")||(en=Tn(Jo(nn),function(n){return{title:qo(n),code:n}}),nn.settings.content_langs=en),tn=n,rn=J,on=u,{addIgnoredWords:function(n,r){Sn(n,function(n){var e,t;pn(r)?(e=Vo(r),rn.addToLang(e,n),on.ignore(e,n)):(rn.addToGlobal(n),on.ignoreAll(n)),t=ne.fromDom(tn.getDoc()),Sn(Lu(t,n,r),function(n){return We(n),0})})},getLanguage:(un=$).getLanguage,setLanguage:function(n){return un.changeLanguage(n,!1)}}})}();